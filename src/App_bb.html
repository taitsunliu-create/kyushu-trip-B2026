<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ä¹å·è¦ªå­è‡ªé§•éŠ 2026</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563EB;      /* ä¸»è‰²è— */
            --secondary: #F59E0B;    /* è¼”è‰²é»ƒ */
            --bg: #F3F4F6;           /* èƒŒæ™¯ç° */
            --white: #FFFFFF;
            --text-main: #1F2937;
            --text-sub: #6B7280;
            --danger: #EF4444;
            --food-choice: #8B5CF6;  /* ç´«è‰²ç”¨æ–¼é¤é£Ÿé¸æ“‡ */
            --tag-food-bg: #EDE9FE;
            --tag-toyota: #E0E7FF;   /* æ·ºè—ç´« for Toyota */
            --info-bg: #E0F2F1;      /* è³‡è¨Šé èƒŒæ™¯è‰² */
            --info-text: #0D9488;    /* è³‡è¨Šé æ–‡å­—è‰² */
            --kumamoto-info-bg: #F0F9FF; /* ç†Šæœ¬è³‡è¨ŠèƒŒæ™¯ */
            --kumamoto-info-text: #0E7490; /* ç†Šæœ¬è³‡è¨Šæ–‡å­— */
            --beppu-info: #14B8A6;   /* åˆ¥åºœåœ°ç„å°ˆç”¨è‰² */
            --beppu-bg: #E0F2F1;
            
            /* Safe Area Variables */
            --safe-area-bottom: env(safe-area-inset-bottom);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            padding-bottom: calc(80px + var(--safe-area-bottom)); /* åº•éƒ¨å°èˆªç©ºé–“ + å®‰å…¨å€åŸŸ */
        }

        /* Header - Modified for Side-by-Side Layout */
        header {
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            color: var(--white);
            padding: 15px 20px;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.2);
            position: relative;
            z-index: 10;
        }
        
        .header-content {
            display: flex;
            flex-direction: row; 
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            max-width: 1200px;
            margin: 0 auto;
            flex-wrap: wrap; 
        }

        .header-title-area {
            flex: 1;
            min-width: 200px;
        }

        .header-title-area h1 { margin: 0; font-size: 1.6rem; font-weight: 700; white-space: nowrap; }
        .header-title-area .subtitle { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; }
        .header-title-area .badge-trip { 
            background: rgba(255,255,255,0.2); 
            padding: 4px 10px; 
            border-radius: 20px; 
            font-size: 0.8rem; 
            display: inline-block;
            margin-top: 8px;
        }

        /* New Header Weather Box - Side Layout */
        .header-weather-box {
            flex: 0 0 auto; 
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 50px; /* Pill shape */
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            min-height: 70px;
        }

        /* Weather Columns */
        .hw-col-loc {
            padding-right: 15px;
            border-right: 1px solid rgba(255,255,255,0.3);
            text-align: center;
            min-width: 80px;
        }
        .hw-loc { font-size: 1.1rem; font-weight: 700; display: block; line-height: 1.2; }
        .hw-date { font-size: 0.75rem; opacity: 0.9; display: block; margin-top: 4px; }

        .hw-col-main {
            padding: 0 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .hw-icon svg { width: 36px; height: 36px; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1)); }
        
        .hw-temp-group { text-align: center; }
        .hw-temp { font-size: 1.4rem; font-weight: 700; line-height: 1; }
        .hw-desc { font-size: 0.8rem; font-weight: 500; display: block; margin-top: 2px; }
        .hw-range { font-size: 0.7rem; opacity: 0.9; display: block; margin-top: 2px; font-family: monospace; }

        .hw-col-advice {
            padding-left: 15px;
            border-left: 1px solid rgba(255,255,255,0.3);
            max-width: 140px;
            font-size: 0.75rem;
            line-height: 1.3;
            opacity: 0.95;
            display: flex;
            align-items: center;
            min-height: 50px; /* Ensure height for border */
        }

        /* Container & Tabs */
        .container { display: none; padding: 20px; animation: fadeIn 0.3s ease; max-width: 800px; margin: 0 auto; }
        .container.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.04);
            border: 1px solid rgba(0,0,0,0.03);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }
        .card-title { font-weight: 700; color: var(--primary); font-size: 1.05rem; }

        /* Day specific styles */
        .day-wrapper {
            background: var(--white);
            border-radius: 12px;
            margin-bottom: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            transition: box-shadow 0.2s;
        }

        .day-toggle {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            cursor: pointer;
            border-radius: 12px;
            border-left: 5px solid transparent; 
            transition: background-color 0.2s, border-left-color 0.3s;
        }
        
        .day-toggle:active { background-color: #F8F9FB; }
        .day-toggle.open { border-left-color: var(--primary); }

        .day-info h3 { margin: 0; font-size: 1.1rem; color: var(--text-main); }
        .day-info span { font-size: 0.85rem; color: var(--text-sub); }
        
        .toggle-icon { transition: transform 0.3s; font-size: 0.8rem; color: var(--text-sub); font-weight: 700; }
        .day-toggle.open .toggle-icon { transform: rotate(180deg); color: var(--primary); }

        .timeline { display: none; padding: 15px 15px 5px 30px; border-top: 1px solid #F3F4F6; }
        .timeline.show { display: block; }

        .event { position: relative; padding-left: 20px; margin-bottom: 24px; }
        .event:last-child { margin-bottom: 0; }
        .event::before {
            content: ''; position: absolute; left: -7px; top: 6px;
            width: 12px; height: 12px; border-radius: 50%;
            background: var(--white); border: 3px solid var(--secondary);
            z-index: 1;
        }
        
        /* Event Styles */
        .event-meal .activity { color: var(--food-choice); }
        .event-meal .desc { border-left: 2px solid var(--food-choice); padding-left: 8px; margin-top: 5px; }
        .time { font-size: 0.85rem; color: var(--text-sub); font-weight: 600; font-family: monospace; }
        .activity { font-size: 1rem; font-weight: 700; margin: 4px 0; color: var(--text-main); }
        .desc { font-size: 0.9rem; color: #555; line-height: 1.5; margin-bottom: 8px; }

        /* Tags */
        .tags { display: flex; flex-wrap: wrap; gap: 6px; }
        .tag { font-size: 0.75rem; padding: 2px 8px; border-radius: 6px; font-weight: 500; }
        .tag-food { background: var(--tag-food-bg); color: var(--food-choice); }
        .tag-move { background: #DBEAFE; color: #1E40AF; }
        .tag-stay { background: #D1FAE5; color: #059669; }
        .tag-spot { background: #FCE7F3; color: #BE185D; }
        .tag-kids { background: #E0F2FE; color: #0284C7; border: 1px solid #BAE6FD; }
        .tag-car { background: var(--tag-toyota); color: #4338CA; }
        .tag-relax { background: #FFFBEB; color: #D97706; border: 1px solid #FCD34D; }
        .tag-shrine { background: #FEE2E2; color: #B91C1C; border: 1px solid #FCA5A5; }
        .tag-flight { background: #BFDBFE; color: #1D4ED8; }
        .tag-tip { background: var(--info-bg); color: var(--info-text); }
        .tag-shop { background: var(--kumamoto-info-bg); color: var(--kumamoto-info-text); }
        .tag-beppu { background: var(--beppu-bg); color: var(--beppu-info); }
        .tag-snow { background: #E0F2FE; color: #0369A1; border: 1px solid #BAE6FD; }

        /* Buttons */
        .btn-map { display: inline-flex; align-items: center; text-decoration: none; color: var(--primary); font-size: 0.85rem; font-weight: 600; margin-top: 4px; padding: 4px 0; }
        .btn-map::before { content: 'ğŸ“'; margin-right: 4px; }
        .btn-link { background: var(--primary); color: white; text-decoration: none; padding: 10px 16px; border-radius: 8px; font-size: 0.9rem; display: block; text-align: center; margin-top: 10px; }
        .btn-link-sub { background: #EBF5FF; color: var(--primary); text-decoration: none; padding: 8px 12px; border-radius: 6px; font-size: 0.85rem; display: block; text-align: center; margin-top: 8px; border: 1px solid var(--primary); }
        .btn-link-tel { background: #D1FAE5; color: #059669; text-decoration: none; padding: 8px 12px; border-radius: 6px; font-size: 0.85rem; display: block; text-align: center; margin-top: 8px; border: 1px solid #059669; }
        .btn-link-tel::before { content: 'ğŸ“'; margin-right: 4px; }

        /* Info Grid */
        .info-grid { display: grid; grid-template-columns: 100px 1fr; gap: 10px; font-size: 0.9rem; margin-bottom: 8px; }
        .info-label { color: var(--text-sub); }
        .info-val { font-weight: 500; }
        .info-detail-box { border: 1px solid #D1D5DB; padding: 12px; border-radius: 8px; margin-top: 10px; }
        .info-detail-box h4 { margin: 0 0 8px 0; font-size: 1rem; color: var(--primary); }

        /* Info Sections */
        .info-section { background-color: var(--info-bg); padding: 15px; border-radius: 12px; margin-bottom: 16px; border: 1px solid #5EEAD4; }
        .info-section.kumamoto { background-color: var(--kumamoto-info-bg); border-color: #90CDF4; }
        .info-section.kumamoto h3 { color: var(--kumamoto-info-text); border-bottom: 2px solid #90CDF4; }
        .info-section.winter-drive { background-color: #FEF2F2; border-color: #FCA5A5; color: #B91C1C; }
        .info-section.winter-drive h3 { color: #B91C1C; border-bottom: 2px solid #FCA5A5; }
        .info-section h3 { color: var(--info-text); font-size: 1.2rem; margin-top: 0; border-bottom: 2px solid #5EEAD4; padding-bottom: 5px; margin-bottom: 15px; }

        /* Price table */
        .price-table { display: grid; grid-template-columns: 1fr 80px 80px; gap: 8px; font-size: 0.9rem; margin-top: 10px; }
        .price-header { font-weight: 700; color: var(--primary); padding-bottom: 4px; border-bottom: 1px solid var(--primary); }
        .price-item { padding: 4px 0; border-bottom: 1px dashed #DDD; }
        .price-item:last-child { border-bottom: none; }
        .price-item .detail { font-size: 0.8rem; color: var(--text-sub); }

        .safari-method { margin-top: 15px; padding: 10px; border-radius: 8px; border: 1px dashed var(--info-text); }
        .method-title { font-weight: 700; color: var(--primary); display: block; margin-bottom: 5px; font-size: 1rem; }
        .method-title.recommended { color: var(--danger); }
        .method-detail { font-size: 0.9rem; line-height: 1.5; color: #444; }

        /* Step List */
        .step-list { counter-reset: step-counter; padding-left: 0; list-style: none; margin-top: 10px; }
        .step-list li { position: relative; padding-left: 30px; margin-bottom: 10px; font-size: 0.9rem; line-height: 1.5; }
        .step-list li::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute; left: 0; top: 0;
            width: 20px; height: 20px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            font-size: 0.75rem;
            line-height: 20px;
        }

        /* Bottom Nav - Optimized for Safe Area */
        .nav-bar { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            width: 100%; 
            background: rgba(255,255,255,0.95); 
            backdrop-filter: blur(10px); 
            border-top: 1px solid #eee; 
            display: flex; 
            justify-content: space-around; 
            padding: 8px 0 calc(8px + var(--safe-area-bottom)); 
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05); 
            z-index: 100; 
        }
        .nav-item { 
            text-align: center; 
            color: #9CA3AF; 
            font-size: 0.7rem; 
            cursor: pointer; 
            transition: color 0.2s; 
            flex-grow: 1; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            padding: 4px; /* Touch target */
        }
        .nav-item.active { color: var(--primary); }
        
        .nav-icon { 
            display: block; 
            margin-bottom: 4px; 
            height: 22px; 
            width: 22px;
        }
        .nav-icon svg {
            width: 100%;
            height: 100%;
            fill: none;
            stroke: currentColor;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .alert-box { background: #FEF2F2; border: 1px solid #FECACA; color: #991B1B; padding: 10px; border-radius: 8px; font-size: 0.85rem; margin-top: 8px; display: flex; gap: 8px; align-items: start; margin-bottom: 15px; }
        .event.optimized { border-left: 2px solid var(--secondary); padding-left: 28px; margin-left: -8px; background-color: #FFFDF5; padding-top: 5px; padding-bottom: 5px; border-radius: 4px; }
        
        /* AI Features Styles (Integrated) */
        .btn-ai-guide {
            background: linear-gradient(90deg, #8B5CF6, #EC4899);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            margin-top: 10px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            font-weight: 600;
        }
        .btn-ai-guide:active { transform: scale(0.95); }
        .btn-ai-guide svg { width: 14px; height: 14px; fill: currentColor; }

        /* New Style for Replay Button (Blue Theme) */
        .btn-ai-play {
            background: linear-gradient(135deg, #2563EB, #3B82F6); /* Blue Gradient */
            color: white;
            border: none;
            /* Icon Only Style */
            width: 40px;
            height: 40px;
            border-radius: 50%;
            padding: 0;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            
            cursor: pointer;
            margin-top: 10px;
            box-shadow: 0 2px 5px rgba(37, 99, 235, 0.2);
            transition: transform 0.2s;
        }
        .btn-ai-play:active { transform: scale(0.95); }
        .btn-ai-play svg { 
            width: 20px; 
            height: 20px; 
            fill: none; 
            stroke: currentColor; 
            stroke-width: 2; 
            stroke-linecap: round; 
            stroke-linejoin: round; 
        }

        /* Weather Tab Specific Styles */
        .weather-search-box {
            display: flex; gap: 10px; margin-bottom: 20px;
        }
        .weather-input {
            flex: 1; padding: 12px; border: 2px solid #E5E7EB; border-radius: 12px; font-size: 1rem; outline: none;
        }
        .weather-input:focus { border-color: var(--primary); }
        .btn-weather-search {
            background: var(--primary); color: white; border: none; padding: 0 20px; border-radius: 12px; font-weight: 600; cursor: pointer;
        }
        
        .weather-card-main {
            background: linear-gradient(135deg, #60A5FA, #2563EB);
            color: white; border-radius: 20px; padding: 20px; text-align: center;
            margin-bottom: 20px; box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            position: relative; overflow: hidden;
        }
        .weather-card-main::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 60%);
            animation: rotate 20s linear infinite;
        }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        .wc-temp-big { font-size: 4rem; font-weight: 700; line-height: 1; margin: 10px 0; position: relative; z-index: 1; }
        .wc-loc { font-size: 1.5rem; font-weight: 500; position: relative; z-index: 1; }
        /* Add flexbox to center content and icon */
        .wc-desc { 
            font-size: 1.1rem; 
            opacity: 0.9; 
            margin-bottom: 10px; 
            position: relative; 
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        /* New: Mini Icon Style for Weather Tab */
        .icon-mini {
            width: 18px;
            height: 18px;
            vertical-align: text-bottom;
            margin-right: 4px;
            fill: none;
            stroke: currentColor;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            display: inline-block;
        }

        .weather-compare-row {
            display: flex; gap: 10px; margin-bottom: 20px;
        }
        .wc-mini-card {
            flex: 1; background: white; padding: 15px; border-radius: 16px; border: 1px solid #E5E7EB; text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .wc-mini-title { font-size: 0.85rem; color: #6B7280; margin-bottom: 5px; }
        .wc-mini-temp { font-size: 1.5rem; font-weight: 700; color: #1F2937; }
        .wc-diff-tag { 
            display: inline-block; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 700; margin-top: 5px; 
        }
        .wc-diff-hot { background: #FEE2E2; color: #DC2626; }
        .wc-diff-cold { background: #DBEAFE; color: #1D4ED8; }
        
        .advice-box {
            background: #F0FDF4; border: 1px solid #BBF7D0; padding: 15px; border-radius: 16px;
            color: #166534; font-size: 0.95rem; line-height: 1.6;
        }

        /* æ–°å¢ï¼šè‡ªå®šç¾©å½ˆå‡ºè¦–çª— (Modal) æ¨£å¼ - å–ä»£åŸç”Ÿ alert/prompt */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.5); z-index: 2000;
            display: none; justify-content: center; align-items: center;
            backdrop-filter: blur(3px);
            animation: fadeIn 0.2s;
        }
        .modal-box {
            background: white; width: 90%; max-width: 320px;
            border-radius: 16px; padding: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            transform: scale(0.95);
            animation: popIn 0.2s forwards;
        }
        @keyframes popIn { to { transform: scale(1); } }
        
        .modal-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 10px; color: #1F2937; }
        .modal-desc { font-size: 0.9rem; color: #4B5563; margin-bottom: 15px; line-height: 1.5; }
        .modal-input {
            width: 100%; padding: 10px; border: 2px solid #E5E7EB; border-radius: 8px;
            font-size: 1rem; margin-bottom: 15px; outline: none;
        }
        .modal-input:focus { border-color: var(--primary); }
        
        .modal-btns { display: flex; gap: 10px; }
        .modal-btn {
            flex: 1; padding: 10px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;
        }
        .btn-cancel { background: #F3F4F6; color: #4B5563; }
        .btn-confirm { background: var(--primary); color: white; }

        /* AI Container Styles */
        .ai-header { font-size: 1.4rem; font-weight: 700; margin-bottom: 15px; color: #4B5563; display: flex; align-items: center; gap: 8px; border-bottom: 2px solid #E5E7EB; padding-bottom: 10px; }
        
        /* Chat History Box (Replaces old result box) */
        .chat-history {
            background: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-radius: 16px;
            padding: 16px;
            min-height: 200px;
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
        }

        /* Chat Bubbles */
        .chat-row { display: flex; width: 100%; animation: slideIn 0.2s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .chat-row.user { justify-content: flex-end; }
        .chat-row.ai { justify-content: flex-start; }

        .chat-bubble {
            max-width: 85%;
            padding: 12px 16px;
            font-size: 1rem;
            line-height: 1.6;
            position: relative;
            word-wrap: break-word;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .chat-bubble.user {
            background: var(--primary);
            color: white;
            border-radius: 18px 18px 4px 18px;
        }

        .chat-bubble.ai {
            background: white;
            border: 1px solid #E5E7EB;
            color: #374151;
            border-radius: 18px 18px 18px 4px;
        }
        
        .chat-bubble strong { font-weight: 600; }
        .chat-bubble.ai strong { color: var(--primary); }

        /* Inline Audio Button in Bubble */
        .btn-audio-inline {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: #E0F2FE;
            color: var(--primary);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            vertical-align: middle;
            margin-left: 8px;
            transition: transform 0.2s;
        }
        .btn-audio-inline:active { transform: scale(0.9); background: #BAE6FD; }
        .btn-audio-inline svg { width: 16px; height: 16px; fill: none; stroke: currentColor; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }

        /* Updated Input Area Layout */
        .ai-input-wrapper { display: flex; flex-direction: column; gap: 10px; width: 100%; }
        
        /* New: Voice Language Toggle */
        .voice-lang-switch {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: -5px;
            padding: 0 5px;
            font-size: 0.85rem;
            color: #4B5563;
        }
        .lang-option {
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            padding: 6px 12px; /* åŠ å¤§ä¸€é»é»æ“Šç¯„åœ */
            border-radius: 20px; /* åœ“è§’æ›´æ˜é¡¯ */
            border: 1px solid transparent; /* é ç•™é‚Šæ¡†ç©ºé–“ */
            transition: all 0.2s;
            background: #fff;
        }
        .lang-option:hover { background: #F3F4F6; }
        /* éš±è—åŸç”Ÿ radioï¼Œæ”¹ç”¨æ¨£å¼æ§åˆ¶ */
        .lang-option input { display: none; }
        
        /* é¸ä¸­æ™‚çš„æ¨£å¼ */
        .lang-option:has(input:checked) {
            background: #EFF6FF;
            border-color: var(--primary);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        /* åœ‹æ—— SVG æ¨£å¼ - æ”¹ç‚ºåœ“å½¢ç°¡ç´„é¢¨ */
        .flag-icon {
            width: 24px;  /* æ­£æ–¹å½¢ */
            height: 24px; /* æ­£æ–¹å½¢ */
            border-radius: 50%; /* åœ“å½¢ */
            object-fit: cover;
            display: block;
            /* ç§»é™¤é™°å½±ï¼Œæ”¹ç”¨ SVG å…§éƒ¨é‚Šæ¡†ï¼Œæ›´æ‰å¹³ */
        }

        /* Mobile: Prevent Zoom on Input */
        .ai-input {
            width: 100%; padding: 14px; border: 2px solid #E5E7EB;
            border-radius: 12px; outline: none; 
            font-size: 16px; /* 16px prevents iOS zoom */
            transition: border-color 0.2s;
        }
        .ai-input:focus { border-color: #3b82f6; }

        .ai-actions-row { display: flex; gap: 8px; width: 100%; }
        
        .btn-mode {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px; 
            font-size: 0.95rem;
            transition: transform 0.1s, opacity 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            min-height: 48px; /* Ensure touch target size */
            /* Mobile touch fix: Prevent text selection/callout on long press */
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            touch-action: manipulation;
        }
        .btn-mode:active { transform: scale(0.96); opacity: 0.9; }
        
        .btn-mode svg {
            width: 20px;
            height: 20px;
            fill: none;
            stroke: currentColor;
            stroke-width: 2.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .btn-mode.consult { background: linear-gradient(135deg, #1D4ED8, #3B82F6); }
        .btn-mode.trans { background: linear-gradient(135deg, #0EA5E9, #38BDF8); }
        .btn-mode.voice { background: linear-gradient(135deg, #06B6D4, #22D3EE); }
        
        .btn-mode.voice.recording {
            background: linear-gradient(135deg, #EF4444, #F87171); 
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        .btn-ai-reset {
            background: #F3F4F6; color: #6B7280; border: 1px solid #D1D5DB;
            padding: 10px 16px; border-radius: 8px; font-size: 0.9rem;
            cursor: pointer; margin-bottom: 15px; display: none;
            align-self: flex-end;
            width: 100%; /* Full width on mobile usually better for back buttons */
            text-align: center;
        }
        .btn-ai-reset:hover { background: #E5E7EB; }

        .loading-bubble { 
            color: #9CA3AF; font-style: italic; font-size: 0.9rem; display: flex; align-items: center; gap: 4px;
        }
        .loading-dots:after {
            content: ' .';
            animation: dots 1.5s steps(5, end) infinite;
        }
        @keyframes dots {
            0%, 20% { content: ' .'; }
            40% { content: ' ..'; }
            60% { content: ' ...'; }
            80%, 100% { content: ' ....'; }
        }

        /* Mobile Optimization */
        @media (max-width: 600px) {
            .container { padding: 15px 12px; } /* Adjust padding */
            
            /* Header adjustments */
            .header-content { flex-direction: column; align-items: flex-start; gap: 10px; }
            .header-title-area h1 { font-size: 1.5rem; white-space: normal; line-height: 1.3; }
            
            /* Compact Weather Box - Modified to show Advice */
            .header-weather-box { 
                width: 100%; 
                justify-content: space-between; 
                padding: 10px 15px;
                border-radius: 12px;
                background: rgba(255, 255, 255, 0.15);
                min-height: auto;
                flex-wrap: wrap; /* Allow items to wrap to next line */
                gap: 8px; /* Gap between rows */
            }
            
            /* Show Advice on Mobile now */
            .hw-col-advice { 
                display: block; /* Force display */
                width: 100%; /* Take full width */
                border-left: none; /* Remove side separator */
                border-top: 1px solid rgba(255,255,255,0.3); /* Add top separator */
                padding-left: 0;
                padding-top: 8px;
                max-width: none;
                min-height: auto;
                font-size: 0.8rem;
                line-height: 1.4;
            }

            .hw-col-main { flex-grow: 1; justify-content: flex-end; }
            .hw-col-loc { min-width: auto; border: none; padding-right: 0; text-align: left; }
            
            /* Compact Timeline */
            .timeline { padding-left: 15px; padding-right: 5px; } 
            .event { padding-left: 15px; }
            .event::before { left: -6px; }

            /* Optimized AI Buttons for Thumb Use */
            .ai-actions-row { 
                gap: 8px; 
            }
            .btn-mode {
                padding: 10px 4px;
                font-size: 0.8rem;
                flex-direction: column; /* Icon top, Text bottom */
                gap: 6px;
                line-height: 1.2;
                height: 70px; /* Taller easy to hit area */
            }
            .btn-mode svg { width: 24px; height: 24px; margin-bottom: 0; }
            
            /* Price Table scrollable if needed */
            .price-table { font-size: 0.85rem; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <div class="header-title-area">
                <h1>ä¹å·è¦ªå­è‡ªé§•éŠ</h1>
                <div class="subtitle">2026/01/25 - 01/30 (6å¤©5å¤œ)</div>
                <div class="badge-trip">ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ è¦ªå­è‡ªç”±è¡Œ â€¢ ç†Šæœ¬é€²ç¦å²¡å‡º</div>
            </div>

            <!-- å¤©æ°£è³‡è¨Šç›’ (æ“ºæ”¾åœ¨å³å´ï¼Œä¸‰æ¬„å¼è¨­è¨ˆ) -->
            <div class="header-weather-box" id="header-weather">
                <!-- 1. åœ°é»æ—¥æœŸ -->
                <div class="hw-col-loc">
                    <span class="hw-loc" id="hw-loc">ç†Šæœ¬å¸‚</span>
                    <span class="hw-date" id="hw-date">1/25 (Day 1)</span>
                </div>
                <!-- 2. æº«åº¦ç‹€æ…‹ -->
                <div class="hw-col-main">
                    <div class="hw-icon" id="hw-icon">
                        <!-- SVG Icon -->
                    </div>
                    <div class="hw-temp-group">
                        <div class="hw-temp" id="hw-temp">10Â°C</div>
                        <span class="hw-desc" id="hw-desc">æ™´æ™‚å¤šé›²</span>
                        <span class="hw-range" id="hw-range">2Â°C ~ 11Â°C</span>
                    </div>
                </div>
                <!-- 3. ç©¿è¡£å»ºè­° -->
                <div class="hw-col-advice" id="hw-advice">
                    æ°£æº«é©ä¸­ä½†æ—©æ™šåæ¶¼ï¼Œé•·è¢–é…å¤–å¥—ã€‚
                </div>
            </div>
        </div>
    </header>

    <!-- TAB 1: è¡Œç¨‹è¡¨ -->
    <div id="view-schedule" class="container active">
        <!-- Day 1 -->
        <div class="day-wrapper">
            <div class="day-toggle" id="toggle-d1" onclick="toggleTimeline('d1', this)">
                <div class="day-info">
                    <h3>Day 1: æŠµé”èˆ‡ç†Šæœ¬å¸‚å€</h3>
                    <span>1/25 (æ—¥) â€¢ ä½å®¿: The Blossom</span>
                </div>
                <div class="toggle-icon">â–¼</div>
            </div>
            <div id="d1" class="timeline">
                <div class="event">
                    <div class="time">11:00</div>
                    <div class="activity">æŠµé”ç†Šæœ¬æ©Ÿå ´ (KMJ)</div>
                    <div class="desc">é ˜å–è¡Œæå¾Œï¼Œå‰å¾€1æ¨“å…¥å¢ƒå¤§å»³å¤– 4è™Ÿä¹˜è»Šè™•ã€‚</div>
                    <div class="tags"><span class="tag tag-move">æ˜Ÿå®‡èˆªç©º</span></div>
                </div>
                <div class="event">
                    <div class="time">12:00</div>
                    <div class="activity">å‰å¾€ç†Šæœ¬å¸‚å€ (äº¤é€šé¸æ“‡)</div>
                    <div class="desc">
                        <ul style="list-style-type: disc; padding-left: 20px;">
                            <li><b>é¸é … A (ç›´é”å·´å£«)ï¼š</b> æ­ä¹˜åˆ©æœ¨æ´¥å·´å£«å¾€ã€Œç†Šæœ¬ç«™ã€ã€‚è»Šç¨‹ç´„60åˆ†ï¼Œæˆäººç´„1000å††ã€‚æœ€è¼•é¬†ï¼Œè¡Œæå…æ¬é‹ã€‚</li>
                            <li><b>é¸é … B (å…è²»æ¥é§+JR)ï¼š</b> æ­ä¹˜å…è²»ã€Œç©ºæ¸¯Linerã€è‡³è‚¥å¾Œå¤§æ´¥ç«™ (15åˆ†)ï¼Œè½‰ä¹˜ JR è±è‚¥æœ¬ç·šè‡³ç†Šæœ¬ç«™ (40åˆ†ï¼Œç´„480å††)ã€‚ä¸æ€•å¡è»Šï¼Œä½†éœ€è½‰ä¹˜ã€‚</li>
                            <li><b>é¸é … C (è¨ˆç¨‹è»Š)ï¼š</b> ç›´æ¥å‰å¾€é£¯åº—ï¼Œè»Šç¨‹ç´„ 45-50 åˆ†ï¼Œè»Šè³‡ç´„ 5000-6000å††ã€‚</li>
                        </ul>
                    </div>
                    <div class="tags"><span class="tag tag-move">å·´å£«</span><span class="tag tag-move">JRé›»è»Š</span></div>
                </div>
                <div class="event">
                    <div class="time">13:10</div>
                    <div class="activity">é£¯åº— Check-in / å¯„æ”¾è¡Œæ</div>
                    <div class="desc">The Blossom Kumamoto (JRç†Šæœ¬ç«™æ— Amu Plazaæ¨“ä¸Š)ã€‚</div>
                    <a href="https://www.google.com/maps/search/?api=1&query=THE+BLOSSOM+KUMAMOTO" target="_blank" class="btn-map">å°èˆª</a>
                </div>
                <div class="event event-meal">
                    <div class="time">13:30</div>
                    <div class="activity">åˆé¤/é»å¿ƒæ™‚æ®µï¼šç†Šæœ¬ç«™å‘¨é‚Š</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>è‚¥å¾Œå¥½ç‰©å¸‚å ´ï¼šï¼š</b> (ç†Šæœ¬ç«™å…§) æ¨è–¦ï¼šã„ããªã‚Šå›£å­ (é•·å£½åºµ)ã€ç«¹è¼ªæ²™æ‹‰ (ãƒ’ãƒ©ã‚¤)ã€‚å¿«é€Ÿè§£æ±ºã€‚</li>
                            <li><b>ç†Šæœ¬æ‹‰éºµï¼šï¼š</b> ç«™å‰æœ‰å¹¾é–“æ‹‰éºµåº—ï¼Œå¯å¿«é€Ÿé£½é¤ä¸€é “ã€‚</li>
                        </ul>
                    </div>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡åˆé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">15:00</div>
                    <div class="activity">ç†Šæœ¬åŸ / æ«»ä¹‹é¦¬å ´ åŸå½©è‹‘</div>
                    <div class="desc">
                        æ¬£è³å¤©å®ˆé–£å¤–è§€(ä¿®å¾©ä¸­)ï¼ŒåŸå½©è‹‘æœ‰è¨±å¤šè©¦åƒèˆ‡ç´€å¿µå“ã€‚
                        <div style="margin-top: 8px; border-top: 1px dashed #ccc; padding-top: 5px;">
                            <strong style="color: var(--food-choice); font-size: 0.9rem;">ğŸ˜‹ åŸå½©è‹‘å¿…åƒæ¨è–¦ï¼š</strong>
                            <ul style="list-style-type: disc; margin-top: 5px; padding-left: 20px; font-size: 0.9rem; color: #555;">
                                <li><b>æµ·è†½å¯æ¨‚é¤… (ã†ã«ã‚³ãƒ­ãƒƒã‚±)ï¼š</b> æ¿ƒéƒæµ·è†½å…§é¤¡ï¼Œå¤–é…¥å…§è»Ÿã€‚</li>
                                <li><b>è…ä¹ƒå±‹ é¦¬è‚‰å¯æ¨‚é¤…ï¼š</b> ä¸æ•¢åƒç”Ÿé¦¬è‚‰å¯ä»¥å˜—è©¦é€™å€‹ï¼Œç„¡è…¥å‘³ã€‚</li>
                                <li><b>æŠ¹èŒ¶éœœæ·‡æ·‹ (TENTE)ï¼š</b> ç†Šæœ¬ç”¢èŒ¶è‘‰è£½ä½œï¼ŒèŒ¶é¦™æ¿ƒåšã€‚</li>
                            </ul>
                        </div>
                    </div>
                    <button class="btn-ai-guide" onclick="askGeminiGuide('ç†Šæœ¬åŸå¤©å®ˆé–£èˆ‡å¿è€…', 'å‘Šè¨´5æ­²å°å­©é—œæ–¼é€™åº§åŸå ¡çš„å¿è€…æ•…äº‹æˆ–æ­¦å£«æ•…äº‹ï¼Œä¸¦çµ¦ä»–ä¸€å€‹å°‹æ‰¾åŸç‰†ä¸Šç‰¹æ®ŠçŸ³é ­çš„ä»»å‹™ã€‚')">
                        âœ¨ èªªæ•…äº‹çµ¦å­©å­è½
                    </button>
                    <a href="https://www.google.com/maps/search/?api=1&query=Sakuranobaba+Josaien" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-spot">è¦ªå­æ•£æ­¥</span><span class="tag tag-food">é‚Šèµ°é‚Šåƒ</span></div>
                </div>
                <div class="event">
                    <div class="time">16:45</div>
                    <div class="activity">æ°´å‰å¯ºæˆè¶£åœ’ (æ—¥å¼åº­åœ’å‚™æ¡ˆ)</div>
                    <div class="desc">è‹¥ç†Šæœ¬åŸè¡Œç¨‹çµæŸå¾—æ—©ï¼Œå¯æ­å¸‚é›»Aç³»çµ±è‡³ã€Œæ°´å‰å¯ºå…¬åœ’ã€ã€‚æ—¥å¼åº­åœ’é€ æ™¯å„ªç¾ã€‚</div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Suizenji+Jojuen" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-kids">å‚™æ¡ˆ</span><span class="tag tag-spot">å…¬åœ’</span></div>
                </div>
                <div class="event">
                    <div class="time">18:00</div>
                    <div class="activity" style="color: var(--kumamoto-info-text);">ä¸Šé€š/ä¸‹é€š è³¼ç‰©è¡—æ•£ç­–</div>
                    <div class="desc">
                        åœ¨æ™šé¤å‰äº«å—å¸‚å€ç†±é¬§çš„æ‹±å»Šå•†åº—è¡—ã€‚å¯æ­ä¹˜å¸‚é›»è‡³ã€Œé€šç”ºç­‹ã€æˆ–ã€Œè¾›å³¶ç”ºã€ç«™ã€‚
                        <span style="display:block; font-weight: 600; margin-top: 5px;">***è©³ç›¡æ”»ç•¥èˆ‡ç¾é£Ÿé¸æ“‡è«‹è¦‹ã€Œæ—…éŠè³‡è¨Šã€é ç±¤ã€‚***</span>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Kamitori+Shopping+Street" target="_blank" class="btn-map">å°èˆªè‡³ä¸Šé€šè¡—</a>
                    <div class="tags"><span class="tag tag-shop">è³¼ç‰©</span><span class="tag tag-relax">ç¾é£Ÿé¸æ“‡å¤š</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time">19:30</div>
                    <div class="activity">æ™šé¤æ™‚æ®µï¼šç†Šæœ¬å¸‚å€/è»Šç«™é¸æ“‡</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>å‹çƒˆäº­è±¬æ’ï¼šï¼š</b> (æ–°å¸‚è¡—/Amu Plaza) çŸ¥åæ—¥å¼è±¬æ’è€åº—ï¼Œç™½é£¯é«˜éº—èœå¯çºŒã€‚</li>
                            <li><b>å¤©å¤–å¤©æ‹‰éºµï¼šï¼šï¼š</b> (æ–°å¸‚è¡—) çŸ¥åè’œå‘³è±šéª¨æ‹‰éºµï¼Œé‡å£å‘³ã€‚</li>
                        </ul>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Katsuretsutei+Amu+Plaza+Kumamoto" target="_blank" class="btn-map">å‹çƒˆäº­å°èˆª</a>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡æ™šé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">21:00</div>
                    <div class="activity">æ™šé¤å¾Œå»ºè­°è¡Œç¨‹ (è‡ªç”±é¸æ“‡)</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>Amu Plaza è³¼ç‰© (æ¨è–¦)ï¼šï¼š</b> é£¯åº—æ¨“ä¸‹ï¼Œå¯é€›é€›è—¥å¦åº—æˆ–ä¼´æ‰‹ç¦®åº—ã€‚</li>
                            <li><b>è»Šç«™è¶…å¸‚è£œè²¨ï¼šï¼šï¼š</b> è³¼è²·éš”å¤©é›¶é£ŸåŠé£²å“ã€‚</li>
                            <li><b>é£¯åº—æ³¡æ¾¡ä¼‘æ¯ï¼šï¼šï¼š</b> ç¬¬ä¸€å¤©é•·é€”æ—…è¡Œï¼Œææ—©å›æˆ¿è®“å­©å­ä¼‘æ¯ã€‚</li>
                        </ul>
                    </div>
                    <div class="tags"><span class="tag tag-spot">è¼•é¬†</span><span class="tag tag-kids">è³¼ç‰©</span></div>
                </div>
            </div>
        </div>

        <!-- Day 2 -->
        <div class="day-wrapper">
            <div class="day-toggle" id="toggle-d2" onclick="toggleTimeline('d2', this)">
                <div class="day-info">
                    <h3>Day 2: è§€å…‰åˆ—è»Š & é»‘å·æº«æ³‰</h3>
                    <span>1/26 (ä¸€) â€¢ ä½å®¿: é»‘å·æº«æ³‰</span>
                </div>
                <div class="toggle-icon">â–¼</div>
            </div>
            <div id="d2" class="timeline">
                <div class="alert-box" style="background: #F7FCEF; border: 1px solid #D9F99D; color: #3F6212;">
                    <span>â±ï¸</span> 
                    <div><b>å„ªåŒ–ç›®æ¨™ï¼šï¼š</b>èª¿æ•´ä¸‹åˆè¡Œç¨‹æ™‚é–“ï¼Œç¢ºä¿ **17:05 å¾å¤§è§€å³°å‡ºç™¼**ï¼Œæ–¼ **18:00 æŠµé”é»‘å·æº«æ³‰**ã€‚</div>
                </div>
                <div class="event">
                    <div class="time">09:00</div>
                    <div class="activity">Check-out & å‰å¾€ç†Šæœ¬ç«™ JR æœˆå°</div>
                    <div class="desc">The Blossom å°±åœ¨ç†Šæœ¬ç«™æ—ï¼Œç§»å‹•éå¸¸æ–¹ä¾¿ï¼Œä½†ä»å»ºè­°é ç•™æ™‚é–“ã€‚</div>
                    <div class="tags"><span class="tag tag-move">ç§»å‹•</span></div>
                </div>
                <div class="event">
                    <div class="time">09:57</div>
                    <div class="activity">JR è§€å…‰åˆ—è»Šã€Œé˜¿è˜‡ç”·å­©!ã€</div>
                    <div class="desc">
                        ç¬¬3ç¯€è»Šå»‚è¨­æœ‰**æœ¨çƒæ± ã€å…’ç«¥åœ–æ›¸å®¤**å’Œå“ºä¹³å®¤ï¼Œè«‹é ç•™æ™‚é–“å¸¶å­©å­å»ç©ã€‚
                    </div>
                    <button class="btn-ai-guide" onclick="askGeminiGuide('é˜¿è˜‡ç”·å­©è™Ÿåˆ—è»Š', 'å‘å­©å­ä»‹ç´¹é€™å°ç«è»Šä¸Šçš„å°ç‹— Kuro é†¬æ˜¯èª°ï¼Œä¸¦å»ºè­°ä¸€å€‹åœ¨ç«è»Šä¸Šå¯ä»¥ç©çš„å°‹å¯¶éŠæˆ²ã€‚')">
                        âœ¨ Kuro é†¬æ˜¯èª°ï¼Ÿ
                    </button>
                    <!-- å‚™æ¡ˆ -->
                    <div style="margin-top:8px; border-top:1px dashed #ccc; padding-top:5px; font-size:0.85rem; color:#666;">
                        ğŸš‚ <b>åœé§›å‚™æ¡ˆï¼š</b> è‹¥é‡åœé§›ï¼Œå¯æ”¹æ­ <b>ä¹å·æ©«æ–·ç‰¹æ€¥ (09:11ç™¼)</b> æˆ– <b>æ™®é€šåˆ—è»Š</b>ã€‚é›–ç„¡è¦ªå­è¨­æ–½ï¼Œä½†ä»å¯æ¬£è³æ²¿é€”é¢¨æ™¯ã€‚
                    </div>
                    <div class="tags"><span class="tag tag-move">ç«è»Š</span><span class="tag tag-kids">è¦ªå­å¿…éŠ</span></div>
                </div>
                <div class="event">
                    <div class="time">11:27</div>
                    <div class="activity">æŠµé”é˜¿è˜‡ç«™ (å–è»Šæº–å‚™)</div>
                    <div class="desc">åˆ—è»Šæº–æ™‚æŠµé”é˜¿è˜‡ç«™ã€‚è«‹æº–å‚™å‰å¾€ç§Ÿè»Šè¡Œã€‚</div>
                    <div class="tags"><span class="tag tag-move">æŠµé”</span></div>
                </div>
                <div class="event">
                    <div class="time">11:40</div>
                    <div class="activity">Toyota ç§Ÿè»Š - é˜¿è˜‡ç«™å‰åº— (å–è»Š)</div>
                    <div class="desc">
                        <b>ç§Ÿè»Šè¡Œï¼šï¼š</b> Toyota Rent a Car é˜¿è˜‡ç«™å‰åº— (ãƒˆãƒ¨ã‚¿ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼é˜¿è˜‡é§…å‰åº—)ã€‚å»ºè­°é ç•™ 30-45 åˆ†é˜è¾¦ç†æ‰‹çºŒã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Toyota+Rent+a+Car+é˜¿è˜‡é§…å‰åº—" target="_blank" class="btn-map">å°èˆªè‡³ç§Ÿè»Šè¡Œ</a>
                    <div class="tags"><span class="tag tag-car">Toyota</span><span class="tag tag-move">ç§Ÿè»Šé–‹å§‹</span></div>
                </div>
                <div class="event event-meal optimized">
                    <div class="time">12:20</div>
                    <div class="activity" style="color: var(--secondary);">åˆé¤æ™‚æ®µï¼šé˜¿è˜‡èµ¤ç‰›ä¸¼ (ç²¾ç°¡)</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li>**èµ¤ç‰›ä¸¼ï¼š** æ¨è–¦å‰å¾€ **ã„ã¾ãã‚“é£Ÿå ‚** (éœ€è‡ªé§•ï¼Œç´„ 15-20 åˆ†é˜)ã€‚å› éœ€æ§åˆ¶æ™‚é–“ï¼Œå»ºè­°äº‹å…ˆé›»è©±é ç´„ï¼Œæˆ–é¸æ“‡äººæ½®è¼ƒå°‘çš„åŒé¡å‹é¤å»³ï¼Œ**å°‡ç”¨é¤æ™‚é–“æ§åˆ¶åœ¨ 60 åˆ†é˜å…§**ã€‚</li>
                        </ul>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=ã„ã¾ãã‚“é£Ÿå ‚+é˜¿è˜‡" target="_blank" class="btn-map">å°èˆªè‡³ ã„ã¾ãã‚“é£Ÿå ‚</a>
                     <div class="tags"><span class="tag tag-food">æ™‚é–“ç·Šæ¹Š</span><span class="tag tag-car">éœ€è‡ªé§•</span></div>
                </div>
                 <div class="event optimized">
                    <div class="time">13:40</div>
                    <div class="activity" style="color: var(--secondary);">é˜¿è˜‡ç¥ç¤¾ (Aso Shrine)</div>
                    <div class="desc">
                        æŠµé”ç¥ç¤¾ä¸¦åƒè§€é–€å‰ç”ºï¼Œ**å»ºè­°åœç•™æ™‚é–“ç´„ 45 åˆ†é˜**ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Aso+Shine" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-shrine">åœç•™ 45åˆ†</span></div>
                </div>
                <div class="event optimized">
                    <div class="time">14:45</div>
                    <div class="activity" style="color: var(--secondary);">è‰åƒé‡Œå’–å•¡çƒ˜ç„™åŠ (Kusasenri)</div>
                    <div class="desc">
                        æ¬£è³é˜¿è˜‡ç«å±±ç¾¤èˆ‡è‰åƒé‡Œæ”¾ç‰§ç¾æ™¯ï¼Œä¸¦äº«ç”¨å’–å•¡ã€‚**å»ºè­°åœç•™æ™‚é–“ç´„ 60 åˆ†é˜**ï¼Œé¿å…é€—ç•™éä¹…ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Kusasenri+Coffee+Roastery" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-spot">åœç•™ 60åˆ†</span></div>
                </div>
                <div class="event optimized">
                    <div class="time">16:00</div>
                    <div class="activity" style="color: var(--secondary);">é˜¿è˜‡å¤§è§€å³° (Daikanbo Lookout)</div>
                    <div class="desc">
                        çœºæœ›é˜¿è˜‡äº”å²³ã€Œæ¶…æ§ƒåƒã€çµ•æ™¯ï¼Œåœè»Šå ´æ—æœ‰ä¼´æ‰‹ç¦®èˆ‡é»å¿ƒåº—ã€‚
                        <span style="color:var(--danger); font-weight: 600;">***é‡è¦ï¼šè«‹å‹™å¿…åœ¨ 17:05 å‰ä¸Šè»Šå‡ºç™¼***</span>ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Daikanbo+Lookout" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-spot">æ™¯è§€</span></div>
                </div>
                <div class="event optimized">
                    <div class="time">17:05</div>
                    <div class="activity" style="color: var(--danger); font-weight: 700;">å‰å¾€é»‘å·æº«æ³‰ (è‡ªé§• 55åˆ†)</div>
                    <div class="desc">
                        <span style="color:var(--danger); font-weight: 600;">âš ï¸ å±±è·¯é§•é§›è«‹å°å¿ƒï¼šï¼š</span> å†¬å­£å±±è·¯ï¼Œè«‹å‹¿è¶…é€Ÿä¸¦æ³¨æ„å®‰å…¨ã€‚
                    </div>
                    <div class="tags"><span class="tag tag-move">æº–æ™‚å‡ºç™¼ï¼</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time" style="color: var(--primary); font-weight: 700;">18:00</div>
                    <div class="activity" style="color: var(--primary); font-weight: 700;">æˆåŠŸæŠµé”é»‘å·æº«æ³‰æ—…é¤¨</div>
                    <div class="desc">è¾¦ç†å…¥ä½æ‰‹çºŒï¼Œæ”¾é¬†ä¼‘æ¯ã€‚</div>
                    <div class="info-detail-box" style="border: 1px dashed #10B981; margin-top: 15px;">
                        <h4 style="color:#10B981;">ğŸ‘‰ æ—…é¤¨å°èˆªè³‡è¨Š (é›»è©±)</h4>
                        <div class="info-grid">
                            <div class="info-label">éº“æ—…é¤¨</div>
                            <div class="info-val">0967-44-0103</div>
                        </div>
                        <div class="info-grid">
                            <div class="info-label">æ¹¯æœ¬èŠ</div>
                            <div class="info-val">0967-44-0211</div>
                        </div>
                        <span style="display: block; font-size: 0.8rem; color: #666; margin-top: 5px;">å»ºè­°ä½¿ç”¨é›»è©±è™Ÿç¢¼è¼¸å…¥è»Šç”¨å°èˆªã€‚</span>
                    </div>
                </div>
                <div class="event event-meal">
                    <div class="time">19:00</div>
                    <div class="activity">æ™šé¤: æ—…é¤¨æœƒå¸­æ–™ç†</div>
                    <div class="desc">åœ¨æ—…é¤¨äº«ç”¨ç²¾ç·»çš„æ—¥å¼æœƒå¸­æ™šé¤ (é€šå¸¸æ™šé¤æ™‚é–“ç‚º 18:30-19:30)ã€‚</div>
                    <div class="tags"><span class="tag tag-stay">æº«æ³‰æ—…é¤¨</span><span class="tag tag-food">å·²åŒ…å«</span></div>
                </div>
                <div class="event">
                    <div class="time">21:00</div>
                    <div class="activity">é»‘å·æº«æ³‰è¡— å¤œé–“æ•£ç­– (æ¥µæ¨è–¦)</div>
                    <div class="desc">
                        ç©¿è‘—æµ´è¡£ï¼Œæ¼«æ­¥æ–¼é»ç¶´è‘—æŸ”å’Œç‡ˆç± çš„æº«æ³‰è¡—ã€‚æ°£æ°›å¯§éœï¼Œéå¸¸é©åˆæ”¾é¬†ã€‚
                        <span style="display:block; margin-top: 5px;">âš ï¸ è«‹æ³¨æ„å†¬å­£ä¿æš–ï¼Œä¸¦ç¢ºä¿å­©å­è…³æ­¥å®‰å…¨ã€‚</span>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Kurokawa+Onsen+Town" target="_blank" class="btn-map">æº«æ³‰è¡—ä¸­å¿ƒå°èˆª</a>
                    <div class="tags"><span class="tag tag-relax">æ”¾é¬†</span><span class="tag tag-kids">è¦ªå­é«”é©—</span></div>
                </div>
            </div>
        </div>

        <!-- Day 3 -->
        <div class="day-wrapper">
            <div class="day-toggle" id="toggle-d3" onclick="toggleTimeline('d3', this)">
                <div class="day-info">
                    <h3>Day 3: åˆ¥åºœæµ·åœ°ç„ã€é‡ç”Ÿå‹•ç‰©åœ’ & ç”±å¸ƒé™¢</h3>
                    <span>1/27 (äºŒ) â€¢ ä½å®¿: ç”±å¸ƒé™¢</span>
                </div>
                <div class="toggle-icon">â–¼</div>
            </div>
            <div id="d3" class="timeline">
                <div class="alert-box" style="background: var(--beppu-bg); border: 1px solid var(--beppu-info); color: #075985;">
                    <span>â™¨ï¸</span> 
                    <div><b>è¡Œç¨‹æç¤ºï¼šï¼š</b>æµ·åœ°ç„å·²åŠ å…¥æ­¤è¡Œç¨‹ï¼æ‚¨å°‡å¾é»‘å·æº«æ³‰å‡ºç™¼ï¼Œ**åœ¨å‰å¾€ç”±å¸ƒé™¢çš„é€”ä¸­ç¶“éåˆ¥åºœä¸¦åƒè§€æµ·åœ°ç„**ï¼Œå®Œç¾ä¸²è¯è¡Œç¨‹ã€‚</div>
                </div>
                <div class="event event-meal">
                    <div class="time">08:00</div>
                    <div class="activity">æ—©é¤: æ—…é¤¨å…§äº«ç”¨</div>
                    <div class="desc">äº«ç”¨é»‘å·æº«æ³‰æ—…é¤¨è±ç››çš„æ—¥å¼æ—©é¤ã€‚</div>
                     <div class="tags"><span class="tag tag-stay">æº«æ³‰æ—…é¤¨</span><span class="tag tag-food">å·²åŒ…å«</span></div>
                </div>
                <div class="event">
                    <div class="time">09:30</div>
                    <div class="activity">é»‘å·æº«æ³‰æ•£ç­– & Check-out</div>
                    <div class="desc">åœ¨é€€æˆ¿å‰è³¼è²·ã€Œå…¥æ¹¯æ‰‹å½¢ã€é€›æº«æ³‰è¡—ï¼Œäº«å—æ—©æ™¨çš„å¯§éœã€‚</div>
                    <div class="tags"><span class="tag tag-relax">æ•£æ­¥</span></div>
                </div>
                <div class="event">
                    <div class="time">11:00</div>
                    <div class="activity">ç§»å‹•è‡³åˆ¥åºœåœ°ç„å€ (è‡ªé§• 1å°æ™‚30åˆ†)</div>
                    <div class="desc">è»Šç¨‹è¼ƒé•·ï¼Œå»ºè­°æº–å‚™å¥½å­©å­çš„é›¶é£Ÿå’Œå¨›æ¨‚ã€‚</div>
                    <div class="tags"><span class="tag tag-move">ç§»å‹•</span><span class="tag tag-car">é«˜é€Ÿ/å±±è·¯</span></div>
                </div>
                <div class="event">
                    <div class="time" style="color: var(--beppu-info); font-weight: 700;">12:30</div>
                    <div class="activity" style="color: var(--beppu-info); font-weight: 700;">æŠµé” åˆ¥åºœ æµ·åœ°ç„ (Umi Jigoku)</div>
                    <div class="desc">
                        åœ°ç„å·¡ç¦®ä¸­æœ€å¤¢å¹»çš„ä¸€è™•ï¼å› ä½”åœ°è¼ƒå¤§ï¼Œå»ºè­°åœç•™ç´„ **75åˆ†é˜**ã€‚
                        <ul style="list-style-type: disc; margin-top: 5px; padding-left: 20px;">
                            <li>**å¿…çœ‹ï¼šï¼š** éˆ·è—è‰²çš„æº«æ³‰æ°´ã€ç†±å¸¶ç¡è“®æ± ï¼ˆé¬¼è“®ï¼‰ã€æº«æ³‰é›è›‹ã€‚</li>
                            <li>**å‚™æ¡ˆï¼šï¼š** æµ·åœ°ç„æ—çš„ **ç¶åœ°ç„ï¼ˆKamado Jigokuï¼‰** ä¹Ÿå¾ˆæ¨è–¦ï¼Œä»¥å¤šç¨®é¡è‰²çš„æº«æ³‰å’Œé£²ç”¨æº«æ³‰èåï¼Œè‹¥æ™‚é–“è¨±å¯å¯ä¸€ä½µåƒè§€ï¼ˆå¤šåŠ  30 åˆ†é˜ï¼‰ã€‚</li>
                        </ul>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=åˆ¥åºœ+æµ·åœ°ç„" target="_blank" class="btn-map">å°èˆªè‡³æµ·åœ°ç„</a>
                    <div class="tags"><span class="tag tag-beppu">åˆ¥åºœåœ°ç„</span><span class="tag tag-spot">æ™¯è§€</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time">13:45</div>
                    <div class="activity">åˆé¤æ™‚æ®µï¼šåœ°ç„å‘¨é‚Šè¼•é£Ÿ/ç§»å‹•ä¸­</div>
                    <div class="desc">
                         <ul style="list-style-type: disc;">
                            <li><b>åœ°ç„è’¸æ–™ç†/æº«æ³‰è›‹ï¼šï¼š</b> åœ¨åœ°ç„å€å¿«é€Ÿè³¼è²·è¼•é£Ÿ (å¦‚æº«æ³‰è›‹æˆ–åœ°ç„è’¸å¸ƒä¸) ç•¶ä½œåˆé¤ã€‚</li>
                            <li><b>å‹•ç‰©åœ’åœ’å…§é¤å»³ï¼šï¼šï¼š</b> è‹¥åœ¨åœ°ç„å€æœªç”¨é¤ï¼Œå‰‡ç›´æ¥å‰å¾€å‹•ç‰©åœ’åœ¨åœ’å…§ç”¨é¤ã€‚</li>
                        </ul>
                    </div>
                     <div class="tags"><span class="tag tag-food">é¸æ“‡åˆé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">14:30</div>
                    <div class="activity">æŠµé” ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’ (African Safari)</div>
                    <div class="desc">å¾åœ°ç„å€è‡ªé§•ç´„ 15-20 åˆ†é˜å¯æŠµé”ã€‚åœè»Šå ´å¾ˆå¤§ï¼Œè«‹ç•™æ„è·¯æ¨™ã€‚</div>
                    <a href="https://www.google.com/maps/search/?api=1&query=African+Safari+Oita" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-move">æŠµé”</span></div>
                </div>
                <div class="event">
                    <div class="time">14:30 - 17:30</div>
                    <div class="activity">ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’ (3å°æ™‚éŠç©)</div>
                    <div class="desc">
                        **æ™‚é–“å»ºè­°ï¼š** è‡ªé§•è§€è³ (30åˆ†é˜) + å¢æ—å·´å£« (50åˆ†é˜) + è¦ªè¿‘å€ (1å°æ™‚30åˆ†é˜)ã€‚
                        **è«‹å‹™å¿…ææ—©é ç´„å¢æ—å·´å£«å ´æ¬¡ï¼Œä¸¦å®‰æ’åœ¨ 15:00 å·¦å³é–‹å§‹ã€‚** è©³æƒ…è«‹è¦‹ã€Œæ—…éŠè³‡è¨Šã€é ç±¤ã€‚
                    </div>
                    <button class="btn-ai-guide" onclick="askGeminiGuide('ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’', 'è«‹ç”¨èª‡å¼µæœ‰è¶£çš„èªæ°£ï¼Œå‘Šè¨´å­©å­ç­‰ä¸€ä¸‹æœƒçœ‹åˆ°ç…å­è€è™å°±åœ¨è»Šå­æ—é‚Šï¼Œä¸¦æé†’ä»–å€‘è¦æ³¨æ„çœ‹ä»€éº¼å‹•ç‰©çš„ç‰™é½’ã€‚')">
                        âœ¨ å•Ÿå‹•æ¢éšªæ¨¡å¼
                    </button>
                    <div class="tags"><span class="tag tag-kids">è¦ªå­å¿…éŠ</span><span class="tag tag-spot">å‹•ç‰©åœ’</span></div>
                </div>
                <div class="event">
                    <div class="time">17:30</div>
                    <div class="activity">å‰å¾€ç”±å¸ƒé™¢æº«æ³‰ (å±±ç‡ˆé¤¨)</div>
                    <div class="desc">è»Šç¨‹ç´„ 40åˆ†é˜ï¼Œå¤©è‰²å·²æš—ï¼Œè«‹å°å¿ƒé§•é§›ã€‚</div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Yufuin+Santoukan" target="_blank" class="btn-map">å°èˆªè‡³å±±ç‡ˆé¤¨</a>
                    <div class="tags"><span class="tag tag-move">ç§»å‹•</span><span class="tag tag-stay">ä½å®¿ç¢ºèª</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time">18:30</div>
                    <div class="activity">æ™šé¤: æ—…é¤¨æœƒå¸­æ–™ç†</div>
                    <div class="desc">ç”±å¸ƒé™¢æ—…é¤¨è²»ç”¨é€šå¸¸åŒ…å«ç²¾ç·»çš„æ—¥å¼æœƒå¸­æ™šé¤ï¼Œè«‹ç›¡æƒ…äº«å—ï¼</div>
                    <div class="tags"><span class="tag tag-stay">æº«æ³‰æ—…é¤¨</span><span class="tag tag-food">å·²åŒ…å«</span></div>
                </div>
                <div class="event">
                    <div class="time">20:30</div>
                    <div class="activity">ç”±å¸ƒé™¢æº«æ³‰å€ æ‚ é–’æ•£æ­¥</div>
                    <div class="desc">
                        æ¹¯ä¹‹åªè¡—é“åº—å®¶å¤šå·²æ‰“çƒŠï¼Œä½†å¤œæ™šçš„ç”±å¸ƒé™¢å®‰éœä¸”æ˜Ÿç©ºæ¸…æ™°ã€‚å¯æ•£æ­¥è‡³é‡‘é±—æ¹–æ¬£è³å¤œè‰²ï¼Œæˆ–åœ¨æ—…é¤¨ä¼‘æ¯ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Kinrin+Lake" target="_blank" class="btn-map">é‡‘é±—æ¹–æ–¹å‘å°èˆª</a>
                    <div class="tags"><span class="tag tag-relax">æ”¾é¬†</span></div>
                </div>
            </div>
        </div>

        <!-- Day 4 -->
        <div class="day-wrapper">
            <div class="day-toggle" id="toggle-d4" onclick="toggleTimeline('d4', this)">
                <div class="day-info">
                    <h3>Day 4: ç”±å¸ƒé™¢è‡³ç¦å²¡</h3>
                    <span>1/28 (ä¸‰) â€¢ ä½å®¿: ç¦å²¡</span>
                </div>
                <div class="toggle-icon">â–¼</div>
            </div>
            <div id="d4" class="timeline">
                <div class="event event-meal">
                    <div class="time">08:00</div>
                    <div class="activity">æ—©é¤: æ—…é¤¨å…§äº«ç”¨</div>
                    <div class="desc">äº«ç”¨ç”±å¸ƒé™¢æ—…é¤¨çš„è±ç››æ—©é¤ã€‚</div>
                    <div class="tags"><span class="tag tag-stay">æ—…é¤¨</span><span class="tag tag-food">å·²åŒ…å«</span></div>
                </div>
                <div class="event">
                    <div class="time">09:30</div>
                    <div class="activity">é‡‘é±—æ¹– & æ¹¯ä¹‹åªè¡—é“</div>
                    <div class="desc">æ™¨éœ§ç¾æ™¯ï¼Œè¡—é“ä¸Šæœ‰å²åŠªæ¯”èŒ¶å±‹ã€MiffyéºµåŒ…åº—ã€‚</div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Kinrin+Lake" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-kids">å¥½é€›</span></div>
                </div>
                
                <!-- COMICO ART MUSEUM INSERTED HERE -->
                <div class="event">
                    <div class="time">11:00</div>
                    <div class="activity">COMICO ART MUSEUM YUFUIN</div>
                    <div class="desc">
                        ç”±éšˆç ”å¾è¨­è¨ˆçš„ç¾ä»£ç¾è¡“é¤¨ï¼Œå±•å‡ºè‰é–“å½Œç”Ÿç­‰å¤§å¸«ä½œå“ï¼Œå»ºç¯‰èˆ‡ç”±å¸ƒå²³æ™¯è§€èåˆï¼Œéå¸¸å€¼å¾—ä¸€è¨ªã€‚
                        <span style="display:block; font-size: 0.8rem; color: #666; margin-top: 5px;">*å»ºè­°äº‹å…ˆä¸Šç¶²é ç´„è³¼ç¥¨ã€‚</span>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=COMICO+ART+MUSEUM+YUFUIN" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-spot">è—è¡“</span><span class="tag tag-spot">å»ºç¯‰</span></div>
                </div>

                <div class="event event-meal">
                    <div class="time">12:30</div>
                    <div class="activity">åˆé¤æ™‚æ®µï¼šç”±å¸ƒé™¢å¿…åƒé‡œé£¯</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>ç”±å¸ƒã¾ã¶ã— å¿ƒ (ç”±å¸ƒé‡œé£¯)ï¼šï¼š</b> è¶…äººæ°£æ’éšŠååº—ï¼Œæ¨è–¦è±å¾Œç‰›é‡œé£¯æˆ–åœ°é›é‡œé£¯ï¼Œä¸€é‹ä¸‰åƒï¼ˆåŸå‘³ã€åŠ ä½æ–™ã€èŒ¶æ³¡é£¯ï¼‰ã€‚å»ºè­°æå‰æ’éšŠæˆ–é¿é–‹å°–å³°ã€‚</li>
                            <li><b>æ¹¯ä¹‹åªè¡—é“å°åƒï¼šï¼š</b> è‹¥ä¸æƒ³ä¹…å€™ï¼Œå¯é¸æ“‡æ²¿è¡—åƒè±å¾Œç‰›ä¸²ç‡’ã€å¯æ¨‚é¤…ç­‰ã€‚</li>
                        </ul>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Yufu+Mabushi+Shin" target="_blank" class="btn-map">å°èˆªè‡³ç”±å¸ƒé‡œé£¯</a>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡åˆé¤</span><span class="tag tag-spot">æ’éšŠç¾é£Ÿ</span></div>
                </div>
                <div class="event">
                    <div class="time">13:30</div>
                    <div class="activity">å‰å¾€ç¦å²¡å¸‚å€ (é–‹å§‹ç§»å‹•)</div>
                    <div class="desc">è¸ä¸Šå›ç¦å²¡çš„æ­¸é€”ï¼Œç¸½è»Šç¨‹ç´„ 2.5å°æ™‚ã€‚</div>
                    <div class="tags"><span class="tag tag-move">ç§»å‹•</span></div>
                </div>
                
                <!-- NEW STOP: YAMADA SA -->
                <div class="event">
                    <div class="time">14:40</div>
                    <div class="activity">ä¸­é€”ä¼‘æ¯ï¼šå±±ç”°æœå‹™å€ (Yamada SA)</div>
                    <div class="desc">
                        ä½æ–¼é«˜é€Ÿå…¬è·¯ä¸Šçš„å¤§å‹ä¼‘æ¯ç«™ï¼Œç’°å¢ƒå„ªç¾ï¼Œæœ‰éºµåŒ…åº—ã€è¾²ç”¢å“å’Œä¹¾æ·¨çš„æ´—æ‰‹é–“ã€‚é©åˆåœè»Šè®“å­©å­æ´»å‹•ç­‹éª¨ã€‚
                        <span style="display:block; font-size: 0.8rem; color: #666; margin-top: 5px;">*åœç•™ç´„ 20 åˆ†é˜ã€‚</span>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Yamada+Service+Area+Up+Line" target="_blank" class="btn-map">å°èˆªè‡³å±±ç”°SA</a>
                    <div class="tags"><span class="tag tag-relax">ä¼‘æ¯ç«™</span><span class="tag tag-food">è£œçµ¦</span></div>
                </div>
                
                <!-- èª¿æ•´çš„é‚„è»Šè¡Œç¨‹ -->
                <div class="event">
                    <div class="time">16:10</div>
                    <div class="activity">å¸‚å€åŠ æ²¹ (é‚„è»Šå‰æ»¿æ²¹)</div>
                    <div class="desc">
                        ä¾è¦å®šéœ€åŠ æ»¿æ²¹é‚„è»Šã€‚å»ºè­°å‰å¾€é™„è¿‘çš„åŠ æ²¹ç«™ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/gas+station+near+Toyota+Rent+a+Car+Hakata+Station+Hakata+Exit" target="_blank" class="btn-map">æœå°‹é™„è¿‘åŠ æ²¹ç«™</a>
                    <div class="tags"><span class="tag tag-car">åŠ æ²¹</span></div>
                </div>
                <div class="event">
                    <div class="time">16:30</div>
                    <div class="activity">æ­¸é‚„ç§Ÿè³ƒè»Šè¼› (Toyota åšå¤šé§…åšå¤šå£åº—)</div>
                    <div class="desc">
                        <b>é‚„è»Šé»ï¼š</b> Toyota Rent a Car åšå¤šé§…åšå¤šå£åº—ã€‚<br>
                        è«‹å‹™å¿…æ”œå¸¶åŠ æ²¹æ”¶æ“šä»¥ä¾›æŸ¥é©—ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Toyota+Rent+a+Car+Hakata+Station+Hakata+Exit" target="_blank" class="btn-map">å°èˆªè‡³é‚„è»Šé»</a>
                    <div class="tags"><span class="tag tag-move">é‚„è»Š</span></div>
                </div>
                <!-- èª¿æ•´çµæŸ -->
                <div class="event">
                    <div class="time">18:00</div>
                    <div class="activity">é£¯åº— Check-in</div>
                    <div class="desc">æ—¥èˆªè¥¿éµ æˆ– ä¼‘é›·å…‹è“‹ç‰¹ã€‚</div>
                    <div class="tags"><span class="tag tag-stay">å¸‚å€é£¯åº—</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time">20:00</div>
                    <div class="activity">æ™šé¤æ™‚æ®µï¼šç¦å²¡åœ¨åœ°ç¾é£Ÿé¸æ“‡</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>åšå¤šç‰›è…¸é‹ (ã‚‚ã¤é‹)ï¼šï¼š</b> å†¬å¤©å¿…åƒï¼Œæš–èƒƒã€‚å¯é¸åšå¤šç«™é™„è¿‘çŸ¥ååº—å®¶ã€‚</li>
                            <li><b>åšå¤šæ‹‰éºµï¼šï¼šï¼š</b> ä¸€è˜­æˆ–ä¸€é¢¨å ‚æœ¬åº—éƒ½åœ¨ç¦å²¡ã€‚</li>
                        </ul>
                    </div>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡æ™šé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">21:30</div>
                    <div class="activity">åšå¤šç«™å‘¨é‚Š å¤œé–“æ•£æ­¥/è£œè²¨</div>
                    <div class="desc">
                        é‚„è»Šå¾Œè¼•é¬†æ­ä¹˜å¤§çœ¾äº¤é€šå·¥å…·ã€‚å¯å‰å¾€åšå¤šé‹æ²³åŸï¼ˆæ°´èˆç§€ï¼‰æˆ–åœ¨é£¯åº—å‘¨é‚Šè—¥å¦åº—è£œçµ¦ã€‚
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Canal+City+Hakata" target="_blank" class="btn-map">é‹æ²³åŸå°èˆª</a>
                    <div class="tags"><span class="tag tag-kids">è³¼ç‰©</span><span class="tag tag-spot">å¤œæ™¯</span></div>
                </div>
            </div>
        </div>

        <!-- Day 5 -->
        <div class="day-wrapper">
            <div class="day-toggle" id="toggle-d5" onclick="toggleTimeline('d5', this)">
                <div class="day-info">
                    <h3>Day 5: å¤ªå®°åºœèˆ‡ç¦å²¡è³¼ç‰©</h3>
                    <span>1/29 (å››) â€¢ ä½å®¿: ç¦å²¡</span>
                </div>
                <div class="toggle-icon">â–¼</div>
            </div>
            <div id="d5" class="timeline">
                <div class="event event-meal">
                    <div class="time">09:00</div>
                    <div class="activity">æ—©é¤: é£¯åº—æˆ–åšå¤šç«™å…§</div>
                    <div class="desc">å¯æ–¼é£¯åº—äº«ç”¨ï¼Œæˆ–åœ¨åšå¤šç«™å…§é¸è³¼æ—¥å¼æ—©é¤æˆ–éºµåŒ…ã€‚</div>
                     <div class="tags"><span class="tag tag-food">é¸æ“‡æ—©é¤</span></div>
                </div>
                <div class="event">
                    <div class="time">09:30</div>
                    <div class="activity">å¤ªå®°åºœå¤©æ»¿å®®</div>
                    <div class="desc">æ­è¥¿éµå‰å¾€ã€‚å¿…åƒæ¢…æé¤…ï¼Œåƒè§€è¡¨åƒé“æ˜Ÿå·´å…‹ã€‚</div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Dazaifu+Tenmangu" target="_blank" class="btn-map">å°èˆª</a>
                </div>
                <div class="event event-meal">
                    <div class="time">12:30</div>
                    <div class="activity">åˆé¤æ™‚æ®µï¼šå¤ªå®°åºœå‘¨é‚Šé¸æ“‡</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>æ¢…æé¤…ï¼šï¼š</b> å¯ç•¶é»å¿ƒã€‚</li>
                            <li><b>å¤ªå®°åºœé£Ÿå ‚ï¼šï¼š</b> è¡¨åƒé“ä¸Šæœ‰å¤šå®¶çƒé¾éºµã€å®šé£Ÿé¤å»³ã€‚</li>
                        </ul>
                    </div>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡åˆé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">14:30</div>
                    <div class="activity">ä¹å·åœ‹ç«‹åšç‰©é¤¨</div>
                    <div class="desc">ä½æ–¼å¤ªå®°åºœæ—ï¼Œå£¯è§€çš„å»ºç¯‰èˆ‡å±•è¦½ã€‚</div>
                </div>
                <!-- å‚™æ¡ˆ -->
                <div class="event">
                    <div class="time">å‚™æ¡ˆ</div>
                    <div class="activity">ç¦å²¡éºµåŒ…è¶…äººå…’ç«¥åšç‰©é¤¨ (é›¨å¤©é¦–é¸)</div>
                    <div class="desc">
                        ä½æ–¼åšå¤šæ²³ç•”åŸ (Hakata Riverain) 5-6æ¨“ï¼Œèˆ‡åœ°éµã€Œä¸­æ´²å·ç«¯ã€ç«™ç›´çµã€‚
                        å®Œå…¨å®¤å…§ï¼Œé©åˆå­¸é½¡å‰å…’ç«¥æ”¾é›»ã€‚
                        <span style="display:block; font-size: 0.8rem; color: #666; margin-top: 5px;">*è©³æƒ…è«‹è¦‹ã€Œæ—…éŠè³‡è¨Šã€é ç±¤ã€‚</span>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Fukuoka+Anpanman+Children's+Museum" target="_blank" class="btn-map">å°èˆª</a>
                    <div class="tags"><span class="tag tag-kids">è¦ªå­å¿…éŠ</span><span class="tag tag-spot">å®¤å…§</span></div>
                </div>
                <!-- å‚™æ¡ˆçµæŸ -->

                <div class="event">
                    <div class="time">17:00</div>
                    <div class="activity">åšå¤šé‹æ²³åŸ / æ«›ç”°ç¥ç¤¾</div>
                    <div class="desc">è³¼ç‰©ä¸­å¿ƒæœ‰æ°´èˆç§€ (æ•´é»)ã€‚</div>
                    <div class="tags"><span class="tag tag-spot">è³¼ç‰©</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time">20:00</div>
                    <div class="activity">æ™šé¤æ™‚æ®µï¼šå±‹å°é«”é©—æˆ–è³¼ç‰©ä¸­å¿ƒ</div>
                    <div class="desc">
                        <ul style="list-style-type: disc;">
                            <li><b>ä¸­æ´²å±‹å°ï¼šï¼š</b> é«”é©—ç¦å²¡çš„è·¯é‚Šæ”¤æ–‡åŒ– (è¦ªå­éœ€æ³¨æ„ç’°å¢ƒ)ã€‚</li>
                            <li><b>é‹æ²³åŸå…§é¤å»³ï¼šï¼šï¼š</b> é¸æ“‡å¤šæ¨£ï¼Œç”¨é¤ç’°å¢ƒè¼ƒèˆ’é©ã€‚</li>
                        </ul>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=Nakasu+Yatai" target="_blank" class="btn-map">å±‹å°å°èˆª</a>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡æ™šé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">21:30</div>
                    <div class="activity">æœ€çµ‚è£œçµ¦èˆ‡å›æˆ¿æ•´ç†</div>
                    <div class="desc">
                        åœ¨ç¦å²¡å¸‚å€æ¡è²·æœ€å¾Œçš„ä¼´æ‰‹ç¦®å’Œè—¥å¦ï¼Œä¸¦æå‰æ•´ç†è¡Œæã€‚
                    </div>
                    <div class="tags"><span class="tag tag-kids">è³¼ç‰©</span><span class="tag tag-relax">æº–å‚™è¿”ç¨‹</span></div>
                </div>
            </div>
        </div>

        <!-- Day 6 -->
        <div class="day-wrapper">
            <div class="day-toggle" id="toggle-d6" onclick="toggleTimeline('d6', this)">
                <div class="day-info">
                    <h3>Day 6: è³¼ç‰©èˆ‡è¿”ç¨‹</h3>
                    <span>1/30 (äº”) â€¢ æº«æš–çš„å®¶</span>
                </div>
                <div class="toggle-icon">â–¼</div>
            </div>
            <div id="d6" class="timeline">
                <div class="event event-meal">
                    <div class="time">09:00</div>
                    <div class="activity">æ—©é¤: é£¯åº—æˆ–åšå¤šç«™å…§</div>
                    <div class="desc">æœ€å¾Œä¸€å€‹æ—©æ™¨ï¼Œè¼•é¬†ç”¨é¤ã€‚</div>
                     <div class="tags"><span class="tag tag-food">é¸æ“‡æ—©é¤</span></div>
                </div>
                <div class="event">
                    <div class="time">10:00</div>
                    <div class="activity">å‰å¾€ LaLaport ç¦å²¡</div>
                    <div class="desc">
                        ç¦å²¡æœ€æ–°å¤§å‹è³¼ç‰©ä¸­å¿ƒï¼Œå¿…çœ‹ <b>1:1 å¯¦é«”å¤§é‹¼å½ˆç«‹åƒ</b>ï¼
                        å•†å ´å…§é‚„æœ‰ KidZania (éœ€é ç´„) å’Œè±å¯Œçš„å…’ç«¥éŠæ¨‚è¨­æ–½ã€‚
                        <span style="display:block; font-size: 0.8rem; color: #666; margin-top: 5px;">*äº¤é€šï¼šå¾åšå¤šç«™æ­ä¹˜å·´å£«æˆ– JR å‰å¾€ç«¹ä¸‹ç«™ã€‚</span>
                    </div>
                    <button class="btn-ai-guide" onclick="askGeminiGuide('RX-93ff Î½é‹¼å½ˆ', 'ç°¡å–®ä»‹ç´¹é€™å€‹å·¨å¤§çš„æ©Ÿå™¨äººæœ‰å¤šé«˜ï¼ˆç”¨å¹¾å±¤æ¨“æ¯”å–»ï¼‰ï¼Œä»¥åŠä»–ç‚ºä»€éº¼è¦ç«™åœ¨é€™è£¡ä¿è­·å¤§å®¶ã€‚')">
                        âœ¨ ä»‹ç´¹å·¨å‹æ©Ÿå™¨äºº
                    </button>
                     <a href="https://www.google.com/maps/search/?api=1&query=LaLaport+Fukuoka" target="_blank" class="btn-map">å°èˆªè‡³ LaLaport</a>
                    <div class="tags"><span class="tag tag-spot">é‹¼å½ˆ</span><span class="tag tag-kids">è¦ªå­å¿…éŠ</span><span class="tag tag-shop">è³¼ç‰©</span></div>
                </div>
                <div class="event event-meal">
                    <div class="time">12:30</div>
                    <div class="activity">åˆé¤æ™‚æ®µï¼šLaLaport ç¾é£Ÿè¡—</div>
                    <div class="desc">
                        ç¾é£Ÿè¡—é¸æ“‡éå¸¸å¤šæ¨£ï¼Œæœ‰ä¹å·åœ¨åœ°ç¾é£Ÿä¹Ÿæœ‰çŸ¥åé€£é–åº—ï¼Œç’°å¢ƒå¯¬æ•é©åˆè¦ªå­ã€‚
                    </div>
                    <div class="tags"><span class="tag tag-food">é¸æ“‡åˆé¤</span></div>
                </div>
                <div class="event">
                    <div class="time">14:30</div>
                    <div class="activity">è¿”å›åšå¤šç«™ & AMU PLAZA ä¼´æ‰‹ç¦®æ¡è²·</div>
                    <div class="desc">
                         å›åˆ°åšå¤šç«™é ˜å–è¡Œæå‰ï¼Œå‹™å¿…åœ¨ **AMU PLAZA** æˆ– **Ming** å•†åº—è¡—æ¡è³¼æœ€å¾Œçš„ä¼´æ‰‹ç¦®ï¼(è©³è¦‹æ—…éŠè³‡è¨Š)
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=AMU+PLAZA+Hakata" target="_blank" class="btn-map">å°èˆªè‡³ AMU PLAZA</a>
                    <div class="tags"><span class="tag tag-shop">ä¼´æ‰‹ç¦®</span><span class="tag tag-move">ç§»å‹•</span></div>
                </div>
                <div class="event">
                    <div class="time">16:00</div>
                    <div class="activity">å‰å¾€ç¦å²¡æ©Ÿå ´ (FUK)</div>
                    <div class="desc">æ­ä¹˜åœ°éµç©ºæ¸¯ç·šï¼Œç´„ 5-10 åˆ†é˜å³å¯æŠµé”æ©Ÿå ´ã€‚</div>
                </div>
                <div class="event">
                    <div class="time">19:10</div>
                    <div class="activity">ç­æ©Ÿèµ·é£›</div>
                    <div class="desc">æ˜Ÿå®‡èˆªç©º å¾€å°åŒ— (TPE)ã€‚</div>
                    <div class="tags"><span class="tag tag-move">è¿”ç¨‹</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- TAB 2: ä½å®¿è³‡è¨Š (Updated Day 3) -->
    <div id="view-stay" class="container">
        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 1: ç†Šæœ¬</div>
                <div class="tag tag-stay">å¸‚å€</div>
            </div>
            <div class="info-grid">
                <div class="info-label">é£¯åº—åç¨±</div>
                <div class="info-val">THE BLOSSOM KUMAMOTO</div>
            </div>
            <div class="info-grid">
                <div class="info-label">ç‰¹è‰²</div>
                <div class="info-val">æ–°ç©ã€ä½æ–¼è»Šç«™æ—ã€äº¤é€šæœ€ä¾¿åˆ©</div>
            </div>
            <a href="https://www.google.com/maps/search/?api=1&query=THE+BLOSSOM+KUMAMOTO" target="_blank" class="btn-link">é–‹å•Ÿåœ°åœ–</a>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 2: é»‘å·æº«æ³‰ (å…©å‚™é¸æ¯”è¼ƒ)</div>
                <div class="tag tag-stay">æº«æ³‰é„‰</div>
            </div>
            
            <div class="info-detail-box">
                <h4>å‚™é¸ A: éº“æ—…é¤¨ (Fumoto Ryokan)</h4>
                 <div class="info-grid">
                    <div class="info-label">åœ°å€</div>
                    <div class="info-val">ç†Šæœ¬çœŒé˜¿è˜‡éƒ¡å—å°å›½ç”ºæº€é¡˜å¯º6618</div>
                </div>
                 <div class="info-grid">
                    <div class="info-label">ç‰¹è‰²</div>
                    <div class="info-val">æ¹¯æ± æ•¸é‡æœ€å¤š (15å€‹)ï¼ŒåŸå§‹é‡è¶£é¢¨æ ¼ï¼Œé©åˆæ¢ç´¢ã€‚</div>
                </div>
                <a href="tel:0967440103" class="btn-link-tel">æ’¥æ‰“ 0967-44-0103 (å°èˆªé›»è©±)</a>
                <a href="https://www.google.com/maps/search/?api=1&query=éº“æ—…é¤¨+é»‘å·æº«æ³‰" target="_blank" class="btn-link-sub">é–‹å•Ÿ Google åœ°åœ–å°èˆª ğŸ“</a>
                <div style="font-size: 0.8rem; color: #9CA3AF; margin-top: 5px;">*å¾é˜¿è˜‡å¤§è§€å³°å‡ºç™¼ç´„ 55 åˆ†é˜ã€‚</div>
            </div>

            <div class="info-detail-box" style="margin-top: 15px; border-color: #F59E0B;">
                <h4 style="color: #F59E0B;">å‚™é¸ B: æ¹¯æœ¬èŠ (Yumoto So)</h4>
                 <div class="info-grid">
                    <div class="info-label">åœ°å€</div>
                    <div class="info-val">ç†Šæœ¬çœŒé˜¿è˜‡éƒ¡å—å°å›½ç”ºæº€é¡˜å¯º6692</div>
                </div>
                 <div class="info-grid">
                    <div class="info-label">ç‰¹è‰²</div>
                    <div class="info-val">æº«æ³‰è¡—æ ¸å¿ƒï¼Œä»¥ç¨ç‰¹çš„ã€Œæ´çªŸé¢¨å‘‚ã€èåã€‚</div>
                </div>
                <a href="tel:0967440211" class="btn-link-tel">æ’¥æ‰“ 0967-44-0211 (å°èˆªé›»è©±)</a>
                <a href="https://www.google.com/maps/search/?api=1&query=æ¹¯æœ¬èŠ+é»‘å·æº«æ³‰" target="_blank" class="btn-map">é–‹å•Ÿ Google åœ°åœ–å°èˆª ğŸ“</a>
                <div style="font-size: 0.8rem; color: #9CA3AF; margin-top: 5px;">*å¾é˜¿è˜‡å¤§è§€å³°å‡ºç™¼ç´„ 55 åˆ†é˜ã€‚</div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 3: ç”±å¸ƒé™¢ (å·²ç¢ºèª)</div>
                <div class="tag tag-stay">æº«æ³‰æ—…é¤¨</div>
            </div>
            <div class="info-detail-box">
                <h4 style="color: #F59E0B;">æ¹¯å¸ƒé™¢ å±±ç‡ˆé¤¨ (Santoukan)</h4>
                <div class="info-grid">
                    <div class="info-label">åœ°å€</div>
                    <div class="info-val">å¤§åˆ†çœŒç”±å¸ƒå¸‚æ¹¯å¸ƒé™¢ç”ºå·ä¸Š1553</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">ç‰¹è‰²</div>
                    <div class="info-val">ç´”æ—¥å¼äº¬é¢¨æ—…é¤¨ï¼Œä½æ–¼é‡‘é±—æ¹–é™„è¿‘ï¼Œæ“æœ‰æªœæœ¨éœ²å¤©é¢¨å‘‚ã€‚</div>
                </div>
                <a href="tel:0977845310" class="btn-link-tel">æ’¥æ‰“ 0977-84-5310 (å°èˆªé›»è©±)</a>
                <a href="https://www.google.com/maps/search/?api=1&query=Yufuin+Santoukan" target="_blank" class="btn-link-sub">é–‹å•Ÿ Google åœ°åœ–å°èˆª ğŸ“</a>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 4-5: ç¦å²¡</div>
                <div class="tag tag-stay">å¸‚å€</div>
            </div>
            <div class="info-grid">
                <div class="info-label">å‚™é¸ A</div>
                <div class="info-val">ç¦å²¡æ—¥èˆªè¥¿éµ</div>
            </div>
            <div class="info-grid">
                <div class="info-label">å‚™é¸ B</div>
                <div class="info-val">ä¼‘é›·å…‹è“‹ç‰¹ (Hotel Croom)</div>
            </div>
             <a href="https://www.google.com/maps/search/?api=1&query=Hakata+Station+Area+Hotels" target="_blank" class="btn-link">é–‹å•Ÿåœ°åœ–</a>
        </div>
    </div>

    <!-- TAB 3: äº¤é€šè³‡è¨Š -->
    <div id="view-car" class="container">
        <!-- èˆªç­è³‡è¨Š -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">èˆªç­è³‡è¨Š (ç†Šæœ¬é€²/ç¦å²¡å‡º)</div>
                <div class="tag tag-flight">æ˜Ÿå®‡èˆªç©º</div>
            </div>
            <div class="info-detail-box">
                <h4>å»ç¨‹ï¼š1/25 å°åŒ—(TPE) â†’ ç†Šæœ¬(KMJ)</h4>
                <div class="info-grid">
                    <div class="info-label">ç­æ¬¡åƒè€ƒ</div>
                    <div class="info-val">JX846</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">èµ·é£›æ™‚é–“</div>
                    <div class="info-val">07:30 (TPE)</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">èµ·é£›èˆªå»ˆ</div>
                    <div class="info-val">TPE T2 (æ¡ƒåœ’æ©Ÿå ´ç¬¬äºŒèˆªå»ˆ)</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">æŠµé”æ™‚é–“</div>
                    <div class="info-val">11:00 (KMJ ç•¶åœ°æ™‚é–“)</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">æŠµé”èˆªå»ˆ</div>
                    <div class="info-val">KMJ åœ‹éš›ç·šèˆªå»ˆ</div>
                </div>
            </div>
            <div class="info-detail-box" style="margin-top: 15px;">
                <h4>å›ç¨‹ï¼š1/30 ç¦å²¡(FUK) â†’ å°åŒ—(TPE)</h4>
                <div class="info-grid">
                    <div class="info-label">ç­æ¬¡åƒè€ƒ</div>
                    <div class="info-val">JX847</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">èµ·é£›æ™‚é–“</div>
                    <div class="info-val">19:10 (FUK ç•¶åœ°æ™‚é–“)</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">èµ·é£›èˆªå»ˆ</div>
                    <div class="info-val">FUK åœ‹éš›ç·šèˆªå»ˆ</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">æŠµé”æ™‚é–“</div>
                    <div class="info-val">20:40 (TPE ç•¶åœ°æ™‚é–“)</div>
                </div>
                <div class="info-grid">
                    <div class="info-label">æŠµé”èˆªå»ˆ</div>
                    <div class="info-val">TPE T2 (æ¡ƒåœ’æ©Ÿå ´ç¬¬äºŒèˆªå»ˆ)</div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <div class="card-title">ç§Ÿè»Šè³‡è¨Š (Day 2-4)</div>
                <div class="tag tag-car">Toyota</div>
            </div>
            <div class="info-grid">
                <div class="info-label">ç§Ÿè»Šå…¬å¸</div>
                <div class="info-val">Toyota Rent a Car</div>
            </div>
            <div class="info-grid">
                <div class="info-label">å–è»Šåœ°é»</div>
                <div class="info-val">é˜¿è˜‡ç«™å‰åº—</div>
            </div>
            <div class="info-grid">
                <div class="info-label">é‚„è»Šåœ°é»</div>
                <div class="info-val">åšå¤šé§…åšå¤šå£åº—</div>
            </div>
            <div class="info-grid">
                <div class="info-label">å°èˆªé›»è©±</div>
                <div class="info-val">092-441-0100</div>
            </div>
            <a href="https://www.google.com/maps/search/?api=1&query=Toyota+Rent+a+Car+é˜¿è˜‡é§…å‰åº—" target="_blank" class="btn-link">å°èˆªè‡³å–è»Šé»</a>
            <a href="https://www.google.com/maps/search/?api=1&query=Toyota+Rent+a+Car+Hakata+Station+Hakata+Exit" target="_blank" class="btn-link" style="margin-top: 5px;">å°èˆªè‡³é‚„è»Šé»</a>
        </div>

        <!-- æ–°å¢ï¼šè‡ªé§•å°èˆª Map Code è¡¨æ ¼ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">ğŸ“ è‡ªé§•å°èˆª Map Code & é›»è©±</div>
                <div class="tag tag-car">è»Šæ©Ÿè¼¸å…¥ç”¨</div>
            </div>
            
            <div class="info-section" style="background-color: #EFF6FF; border-color: #2563EB;">
                <p style="font-size: 0.9rem; color: #1E3A8A; margin-bottom: 10px; line-height: 1.5;">
                    <b>ğŸ’¡ æ“ä½œå°æ’‡æ­¥ï¼š</b><br>
                    æ—¥æœ¬è»Šè¼‰å°èˆªæœ€æº–ç¢ºçš„è¼¸å…¥æ–¹å¼æ˜¯ <b>ã€ŒMap Codeã€</b>ï¼Œå…¶æ¬¡æ˜¯ <b>ã€Œé›»è©±è™Ÿç¢¼ã€</b>ã€‚<br>
                    <span style="font-size:0.85rem; opacity:0.8;">*è¼¸å…¥é›»è©±æ™‚è«‹åŒ…å«å€ç¢¼ (ä¾‹å¦‚ 0967...)ï¼Œä¸éœ€è¼¸å…¥åœ‹ç¢¼ +81ã€‚</span>
                </p>

                <div class="price-table" style="grid-template-columns: 1.2fr 1fr 1fr;">
                    <div class="price-header" style="color:#1D4ED8; border-color:#1D4ED8;">åœ°é»</div>
                    <div class="price-header" style="color:#1D4ED8; border-color:#1D4ED8;">Map Code</div>
                    <div class="price-header" style="color:#1D4ED8; border-color:#1D4ED8;">é›»è©±æœå°‹</div>
                    
                    <!-- Day 2 (ä¿®æ­£ï¼šåŠ å…¥ grid-column: 1 / -1 è®“æ¨™é¡Œæ©«è·¨æ•´æ’ï¼Œä¸å†å°è‡´éŒ¯ä½) -->
                    <div class="price-item" style="grid-column: 1 / -1; font-weight:700; color:#1D4ED8; background:#DBEAFE; text-align: center; margin-top: 5px; border-radius: 4px;">Day 2: é˜¿è˜‡ & é»‘å·</div>
                    
                    <div class="price-item"><b>Toyota é˜¿è˜‡ç«™å‰</b></div>
                    <div class="price-item" style="font-family:monospace; font-weight:700;">256 640 874*26</div>
                    <div class="price-item">0967-35-5511</div>

                    <div class="price-item"><b>ã„ã¾ãã‚“é£Ÿå ‚ (åˆé¤)</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0967-32-0031</div>

                    <div class="price-item"><b>é˜¿è˜‡ç¥ç¤¾</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0967-22-0064</div>

                    <div class="price-item"><b>è‰åƒé‡Œ (ç«å±±åšç‰©é¤¨)</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0967-34-1600</div>

                    <div class="price-item"><b>å¤§è§€å³°å±•æœ›æ‰€</b></div>
                    <div class="price-item" style="font-family:monospace; font-weight:700;">256 878 354*82</div>
                    <div class="price-item">-</div>

                    <div class="price-item"><b>é»‘å·æº«æ³‰ (æ—…é¤¨çµ„åˆ)</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0967-44-0076</div>

                    <!-- Day 3 (ä¿®æ­£æ’ç‰ˆ) -->
                    <div class="price-item" style="grid-column: 1 / -1; font-weight:700; color:#1D4ED8; background:#DBEAFE; text-align: center; margin-top: 10px; border-radius: 4px;">Day 3: åˆ¥åºœ & ç”±å¸ƒé™¢</div>

                    <div class="price-item"><b>æµ·åœ°ç„ (åˆ¥åºœ)</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0977-66-0121</div>

                    <div class="price-item"><b>ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0978-48-2331</div>

                    <div class="price-item"><b>ç”±å¸ƒé™¢ å±±ç‡ˆé¤¨</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0977-84-5310</div>

                    <!-- Day 4 (ä¿®æ­£æ’ç‰ˆ) -->
                    <div class="price-item" style="grid-column: 1 / -1; font-weight:700; color:#1D4ED8; background:#DBEAFE; text-align: center; margin-top: 10px; border-radius: 4px;">Day 4: é‚„è»Š</div>

                    <div class="price-item"><b>å±±ç”° SA (ä¼‘æ¯ç«™)</b></div>
                    <div class="price-item">-</div>
                    <div class="price-item">0946-52-3100</div>

                    <div class="price-item"><b>Toyota åšå¤šç«™åšå¤šå£</b></div>
                    <div class="price-item" style="font-family:monospace; font-weight:700;">13 320 557*33</div>
                    <div class="price-item">092-432-0100</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 2 (1/26) å¿…æ­ï¼šé˜¿è˜‡ç”·å­©!</div>
                <div class="tag tag-move">è§€å…‰åˆ—è»Š</div>
            </div>
             <div class="info-grid">
                <div class="info-label">è»Šæ¬¡</div>
                <div class="info-val">ASO BOY! 1è™Ÿ</div>
            </div>
            <div class="info-grid">
                <div class="info-label">å€é–“</div>
                <div class="info-val">ç†Šæœ¬ (09:57) â†’ é˜¿è˜‡ (11:27)</div>
            </div>
            
            <div class="info-detail-box">
                <h4>ğŸ¶ åˆ—è»Šå‰ç¥¥ç‰©ï¼šå°é»‘ KURO</h4>
                <p style="font-size: 0.9rem;">KURO æ˜¯é˜¿è˜‡ç”·å­©çš„çœ‹æ¿çŠ¬ï¼Œè»Šå…§å¤–å…±æœ‰**101éš»ä¸åŒé€ å‹çš„ KURO åœ–æ¡ˆ**ï¼Œå¯ä»¥è®“å­©å­å€‘å°‹æ‰¾ï¼Œå¢æ·»æ—…é€”æ¨‚è¶£ï¼</p>
                <p style="font-size: 0.8rem; color: #9CA3AF; margin-top: 5px;"></p>
            </div>
            
            <div class="info-detail-box" style="margin-top: 15px;">
                <h4>ğŸ‰ è¦ªå­å¨›æ¨‚è¨­æ–½ (ç¬¬3ç¯€è»Šå»‚)</h4>
                <p style="font-size: 0.9rem; margin-bottom: 5px;">
                    ç¬¬3ç¯€è»Šå»‚å¾Œæ–¹æ˜¯å…’ç«¥å°ˆå±¬ç©ºé–“ï¼Œè¨­æœ‰**æœ¨çƒæ± **ï¼ˆè«‹æ³¨æ„é–‹æ”¾æ™‚é–“ï¼‰å’Œ**å…’ç«¥åœ–æ›¸å®¤**ã€‚
                </p>
                <p style="font-size: 0.9rem; margin-bottom: 5px;">
                    æ­¤å¤–ï¼Œé‚„æœ‰**å“ºä¹³å®¤**å’Œå¤šåŠŸèƒ½å»æ‰€ï¼Œç¢ºä¿å¸¶è‘—å°å°å­©çš„å®¶é•·ä¹Ÿèƒ½èˆ’é©æ­ä¹˜ã€‚
                </p>
            </div>
            
            <div class="info-detail-box" style="margin-top: 15px;">
                <h4>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ç¨ç‰¹å…¨æ™¯å¸­ä½</h4>
                <p style="font-size: 0.9rem; margin-bottom: 5px;">
                    **æ™¯è§€è»Šå»‚ (ç¬¬1å’Œç¬¬4ç¯€)**ï¼šè¨­æœ‰å…¨æ™¯å¤§çª—æˆ¶ï¼Œè¦–é‡çµ•ä½³ï¼Œèƒ½æ¬£è³é˜¿è˜‡æ²¿ç·šé¢¨æ™¯ã€‚
                </p>
                <p style="font-size: 0.9rem;">
                    **è¦ªå­åº§ä½ (White Seats)**ï¼šæœ‰é¢å°é¢ã€é™„æ¡Œå­çš„åº§ä½ï¼Œéå¸¸é©åˆå®¶åº­ç”¨é¤æˆ–äº’å‹•ï¼Œæ˜¯é è¨‚æ™‚çš„é¦–é¸ï¼
                </p>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-title">ğŸ‡¯ğŸ‡µ è‡ªé§•èˆ‡åŠ æ²¹é ˆçŸ¥</div>
                <div class="tag tag-car">å¿…è®€</div>
            </div>
            
            <div class="info-section" style="margin-bottom: 15px;">
                <h3 style="color: var(--primary); border-bottom-color: var(--primary);">ğŸš— è‡ªé§•é‡é»æç¤º</h3>
                <ul style="padding-left: 20px; font-size: 0.9rem; line-height: 1.6; color: #444;">
                    <li><b>é å·¦è¡Œé§›ï¼š</b>æ—¥æœ¬ç‚ºå³é§•å·¦è¡Œï¼Œé›¨åˆ·å’Œæ–¹å‘ç‡ˆä½ç½®é€šå¸¸èˆ‡å°ç£ç›¸åï¼ˆé›¨åˆ·åœ¨å·¦ï¼Œæ–¹å‘ç‡ˆåœ¨å³ï¼‰ã€‚è½‰å½æ™‚è«‹å£è¨£é»˜å”¸ã€Œå·¦å°åœˆã€å³å¤§åœˆã€ã€‚</li>
                    <li><b>ç¦®è®“è¡Œäººï¼š</b>è½‰å½é‡æ–‘é¦¬ç·šæœ‰è¡Œäººæ™‚ï¼Œ**å¿…é ˆå®Œå…¨åœè»Š**ç¦®è®“ã€‚</li>
                    <li><b>åœæ­¢æ¨™èªŒ (æ­¢ã¾ã‚Œ)ï¼š</b>çœ‹åˆ°å€’ä¸‰è§’å½¢ç´…è‰²æ¨™èªŒï¼Œè»Šè¼ªå¿…é ˆ**å®Œå…¨éœæ­¢**ï¼ˆæ•¸3ç§’ï¼‰ç¢ºèªç„¡è»Šå¾Œå†é–‹ï¼Œé€™æ˜¯æ—¥æœ¬è­¦å¯Ÿå–ç· é‡é»ã€‚</li>
                    <li><b>å¹³äº¤é“ï¼š</b>é€šéå‰å¿…é ˆ**å®Œå…¨åœè»Š**ï¼Œé–‹çª—è½è²éŸ³ç¢ºèªç„¡ç«è»Šå¾Œå†é€šéã€‚</li>
                </ul>
            </div>

            <div class="info-section" style="background-color: #FFFBEB; border-color: #F59E0B;">
                <h3 style="color: #D97706; border-bottom-color: #F59E0B;">â›½ åŠ æ²¹ç«™ä½¿ç”¨æŒ‡å—</h3>
                <div class="method-detail">
                    <p style="margin-bottom: 8px;">ç§Ÿè»Šé€šå¸¸éœ€<b>ã€ŒåŠ æ»¿æ²¹é‚„è»Š (æº€ã‚¿ãƒ³è¿”ã—)ã€</b>ï¼Œè«‹ä¿ç•™æœ€å¾Œä¸€æ¬¡åŠ æ²¹æ”¶æ“šã€‚</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px; text-align: center; margin-bottom: 10px;">
                        <div style="background:#FFCCCC; padding:5px; border-radius:5px; color:#CC0000; font-weight:bold;">ç´…è‰²<br><span style="font-size:0.8rem">92ç„¡é‰›<br>(Regular)</span></div>
                        <div style="background:#FFFFCC; padding:5px; border-radius:5px; color:#999900; font-weight:bold;">é»ƒè‰²<br><span style="font-size:0.8rem">98ç„¡é‰›<br>(High Octane)</span></div>
                        <div style="background:#CCFFCC; padding:5px; border-radius:5px; color:#006600; font-weight:bold;">ç¶ è‰²<br><span style="font-size:0.8rem">æŸ´æ²¹<br>(Diesel)</span></div>
                    </div>
                    <p>ä¸€èˆ¬ç§Ÿè³ƒè½è»Šï¼ˆå¦‚ Toyota Corolla/Yarisï¼‰é€šå¸¸åŠ  <b style="color:#CC0000;">ç´…è‰² Regular (ãƒ¬ã‚®ãƒ¥ãƒ©ãƒ¼)</b>ã€‚è«‹å‹™å¿…ç¢ºèªç§Ÿè»Šåˆç´„ã€‚</p>
                </div>

                <!-- æ–°å¢ï¼šè‡ªåŠ©åŠ æ²¹æ•™å­¸å€å¡Š -->
                <div style="margin-top: 15px; border-top: 1px dashed #F59E0B; padding-top: 15px;">
                    <h4 style="color: #D97706; margin: 0 0 10px 0;">ğŸ¤– è‡ªåŠ©åŠ æ²¹ (Self) æ“ä½œæ­¥é©Ÿ</h4>
                    <ul class="step-list" style="padding-left: 20px;">
                        <li><b>åœè»Šç†„ç«ï¼š</b> èªæ˜æ‹›ç‰Œå¯«æœ‰ã€Œã‚»ãƒ«ãƒ• (Self)ã€çš„åŠ æ²¹ç«™ã€‚åœå¦¥å¾Œè«‹å‹™å¿…ç†„ç«ã€‚</li>
                        <li><b>æ¶ˆé™¤éœé›»ï¼š</b> è§¸æ‘¸åŠ æ²¹æ©Ÿä¸Šçš„ã€Œéœé›»é™¤å» (éœé›»é™¤å»ã‚·ãƒ¼ãƒˆ)ã€é»‘è‰²è§¸æ‘¸æ¿ã€‚</li>
                        <li><b>é¸æ“‡æ”¯ä»˜ï¼š</b> è¢å¹•é»é¸ã€Œã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ (ä¿¡ç”¨å¡)ã€æˆ–ã€Œç¾é‡‘ã€ã€‚</li>
                        <li><b>é¸æ“‡æ²¹ç¨®ï¼š</b> é»é¸ç´…è‰² <b style="color:#CC0000;">Regular (ãƒ¬ã‚®ãƒ¥ãƒ©ãƒ¼)</b>ã€‚</li>
                        <li><b>è¨­å®šæ²¹é‡ï¼š</b> é‚„è»Šè«‹é¸æ“‡ <b style="color:#2563EB;">ã€Œæº€ã‚¿ãƒ³ (æ»¿æ²¹)ã€</b>ã€‚</li>
                        <li><b>åŠ æ²¹ï¼š</b> æ’å…¥æ²¹æ§ï¼Œæ‰£ä¸‹æ‰³æ©Ÿã€‚è·³åœå¾Œè«‹ä¸è¦ç¡¬åŠ ï¼Œæ›å›æ²¹æ§ã€‚</li>
                        <li><b>é ˜å–æ”¶æ“šï¼š</b> å‹™å¿…é ˜å–æ”¶æ“š (é ˜åæ›¸) ä»¥ä¾›é‚„è»ŠæŸ¥é©—ã€‚</li>
                    </ul>
                </div>

                <!-- æ–°å¢ï¼šä»˜æ¬¾èˆ‡æ‰¾é›¶æ³¨æ„äº‹é … -->
                <div style="margin-top: 15px; background: #fff; padding: 10px; border-radius: 8px; border: 1px solid #FCD34D;">
                    <h4 style="color: #B45309; margin: 0 0 5px 0; font-size: 0.95rem;">ğŸ’° ä»˜æ¬¾èˆ‡æ‰¾é›¶é‡è¦æç¤º</h4>
                    <ul style="padding-left: 20px; font-size: 0.9rem; color: #444; margin-bottom: 0;">
                        <li style="margin-bottom: 5px;"><b>ç¾é‡‘æ‰¾é›¶é™·é˜±ï¼š</b> éƒ¨åˆ†èˆŠå¼æ©Ÿå°åŠ æ²¹å¾Œåªæœƒåå‡ºæ”¶æ“šï¼ˆæˆ–æ‰¾é›¶å–®ï¼‰ï¼Œ**ä¸æœƒç›´æ¥åéˆ”ç¥¨**ï¼éœ€æ‹¿è‘—å–®å­å»æ—é‚Šçš„<b>ã€Œç²¾ç®—æ©Ÿã€</b>æƒææ¢ç¢¼æ‰æœƒé€€éŒ¢ã€‚</li>
                        <li><b>ä¿¡ç”¨å¡é æˆæ¬Šï¼š</b> é¸æ“‡ã€Œæ»¿æ²¹ã€æ™‚ï¼Œç³»çµ±å¯èƒ½æœƒå…ˆé æ‰£ä¸€ç­†é‡‘é¡ï¼ˆå¦‚1è¬æ—¥åœ“ï¼‰ï¼Œå¯¦éš›æ‰£æ¬¾æœƒä¾åŠ æ²¹é‡è¨ˆç®—ï¼Œç„¡éœ€æ“”å¿ƒã€‚</li>
                    </ul>
                </div>
            </div>
            
            <div class="info-section" style="margin-top: 15px; border-color: #EF4444;">
                <h3 style="color: #EF4444; border-bottom-color: #EF4444;">â›“ï¸ é›ªéŠå®‰è£æ•™å­¸</h3>
                <div class="method-detail">
                    <p style="font-weight:bold; margin-bottom:5px;">âš ï¸ å‡ºç™¼å‰ç¢ºèªé©…å‹•è¼ª (å‰é©…/å¾Œé©…/å››é©…)</p>
                    <ul class="step-list" style="padding-left: 20px;">
                        <li><b>æ­¥é©Ÿ 1ï¼š</b>å°‡é›ªéŠæ”¤å¹³åœ¨è¼ªèƒå¾Œæ–¹ï¼Œç¢ºèªç„¡æ‰“çµã€‚</li>
                        <li><b>æ­¥é©Ÿ 2ï¼š</b>å°‡é›ªéŠå…©ç«¯æ‹‰èµ·ï¼ŒåŒ…è¦†è¼ªèƒã€‚</li>
                        <li><b>æ­¥é©Ÿ 3ï¼š</b>å…ˆæ‰£ä¸Šå…§å´æ›å‹¾ (é€šå¸¸åœ¨è¼ªèƒå¾Œæ–¹ä¸Šæ–¹)ã€‚</li>
                        <li><b>æ­¥é©Ÿ 4ï¼š</b>èª¿æ•´å¤–å´éŠæ¢ä½ç½®ï¼Œæ‰£ä¸Šå¤–å´æ›å‹¾ã€‚</li>
                        <li><b>æ­¥é©Ÿ 5ï¼š</b>ä½¿ç”¨æ©¡çš®åœˆæˆ–ç·Šç¹ƒå™¨æ‹‰ç·ŠéŠæ¢ï¼Œç¢ºä¿è²¼åˆè¼ªèƒã€‚</li>
                        <li><b>æ­¥é©Ÿ 6ï¼š</b>è¡Œé§›ç´„ 50 å…¬å°ºå¾Œåœè»Šæª¢æŸ¥ï¼Œå†æ¬¡æ‹‰ç·Šã€‚</li>
                    </ul>
                    <p style="font-size:0.85rem; color:#666; margin-top:5px;">*è¡Œé§›é›ªéŠè·¯æ®µè«‹ä¿æŒæ™‚é€Ÿ 30-50km/h ä»¥ä¸‹ã€‚</p>
                </div>
            </div>
            
             <div class="info-section winter-drive" style="margin-top: 15px;">
                <h3>â„ï¸ å†¬å­£è‡ªé§•èˆ‡å®‰å…¨æç¤º</h3>
                <p style="font-size: 0.95rem; margin-bottom: 10px; font-weight: 500;">æ‚¨çš„è¡Œç¨‹ç¶“éé˜¿è˜‡å±±ã€é»‘å·æº«æ³‰ã€ç”±å¸ƒé™¢ç­‰å±±å€ï¼Œ1æœˆä¸‹æ—¬ç‚ºå†¬å­£æ—ºå­£ï¼Œè«‹å‹™å¿…ç•™æ„ï¼š</p>
                
                <div class="info-detail-box" style="border-color: #FCA5A5; background-color: #FFF6F6;">
                    <h4 style="color: #B91C1C;">èƒç´‹èˆ‡é›ªéˆ (é‡è¦)</h4>
                     <p class="method-detail">
                        <span style="font-weight: 600; color: #B91C1C;">é›ªèƒï¼š</span> è«‹å‹™å¿…èˆ‡ç§Ÿè»Šå…¬å¸ç¢ºèªæ‚¨çš„è»Šè¼›æ˜¯å¦é…å‚™**é›ªèƒ (Snow Tires)**ã€‚è‹¥ç„¡é›ªèƒï¼Œå¯èƒ½ç„¡æ³•é€²å…¥éƒ¨åˆ†ç©é›ªçš„å±±å€ã€‚
                    </p>
                    <p class="method-detail" style="margin-top: 5px;">
                        <span style="font-weight: 600; color: #B91C1C;">é›ªéˆï¼š</span> åœ¨ç§Ÿè»Šæ™‚ï¼Œç¢ºèªæ˜¯å¦å‚™æœ‰é›ªéˆä¸¦çŸ¥é“å¦‚ä½•ä½¿ç”¨ã€‚éƒ¨åˆ†è·¯æ®µå¦‚é‡å¤§é›ªï¼Œæœƒå¼·åˆ¶è¦æ±‚åŠ è£é›ªéˆã€‚
                    </p>
                </div>
                
                <div class="info-detail-box" style="margin-top: 15px; border-color: #FCA5A5; background-color: #FFF6F6;">
                    <h4 style="color: #B91C1C;">å±±å€é§•è»Šæ™‚é–“</h4>
                     <p class="method-detail">
                        **é»‘å·è‡³åˆ¥åºœ/ç”±å¸ƒé™¢ï¼š** å±±è·¯è¼ƒå¤šï¼Œä¸‹åˆ 5 é»å¾Œå¤©è‰²æœƒå®Œå…¨è®Šæš—ã€‚Day 3 çš„è¡Œç¨‹éœ€è¦è·¨è¶Šå±±å€ï¼Œè«‹ç›¡é‡åœ¨ç™½å¤©å®Œæˆå¤§éƒ¨åˆ†ç§»å‹•ã€‚
                    </p>
                     <p class="method-detail" style="margin-top: 5px;">
                        **çµå†°é¢¨éšªï¼š** æ—©æ™¨æˆ–æ·±å¤œï¼Œæ©‹æ¨‘å’Œå±±å€èƒŒå…‰è·¯æ®µå®¹æ˜“çµå†°ï¼Œè«‹æ¸›é€Ÿæ…¢è¡Œï¼Œèˆ‡å‰è»Šä¿æŒå®‰å…¨è·é›¢ã€‚
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- TAB 4: æ—…éŠè³‡è¨Š -->
    <div id="view-info" class="container">
        
        <!-- ç†Šæœ¬ ä¸Š/ä¸‹é€š æ”»ç•¥ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 1: ç†Šæœ¬ ä¸Šé€š/ä¸‹é€š é€›è¡—æ”»ç•¥</div>
                <div class="tag tag-shop">è³¼ç‰©ç¾é£Ÿ</div>
            </div>

            <div class="info-section kumamoto">
                <h3>ğŸ›ï¸ ä¸Šé€š (Kamitori) èˆ‡ ä¸‹é€š (Shimodori)</h3>
                <p style="font-size: 0.95rem;">
                    é€™æ˜¯ç†Šæœ¬æœ€ä¸»è¦çš„å…©æ¢æ‹±å»Šå•†åº—è¡—ï¼Œçš†ç‚ºå®¤å…§ç©ºé–“ï¼Œå³ä½¿ä¸‹é›¨ä¹Ÿä¸æ€•ã€‚æ­ä¹˜ç†Šæœ¬å¸‚é›»è‡³ã€Œé€šç”ºç­‹ã€æˆ–ã€Œè¾›å³¶ç”ºã€ç«™å³å¯åˆ°é”æ ¸å¿ƒå€åŸŸã€‚
                </p>

                <div class="safari-method" style="border-color: #90CDF4; margin-top: 15px;">
                    <span class="method-title" style="color: var(--kumamoto-info-text);">ä¸Šé€š (åŒ—æ®µ) - æ‚ é–’èˆ‡è³ªæ„Ÿ</span>
                    <div class="method-detail">
                        <p>ä¸Šé€šåå‘**æ–‡é’ã€ç²¾å“ã€å’–å•¡å»³**å’Œ**æœ¬åœ°è€åº—**ï¼Œæ°£æ°›ç›¸å°å®‰éœå„ªé›…ã€‚é©åˆæƒ³æ‰¾ç‰¹è‰²å°åº—ã€æ›¸åº—æˆ–å–ä¸‹åˆèŒ¶çš„å®¶åº­ã€‚</p>
                        <ul style="list-style-type: disc; margin-top: 5px; padding-left: 20px;">
                            <li>**é‡é»åº—å®¶ï¼š** é¶´å±‹ç™¾è²¨ã€å€‹æ€§é›œè²¨åº—ã€æ›¸åº—ã€‚</li>
                            <li>**å‚™è¨»ï¼š** é€™è£¡é€£æ¥è‘—ç†Šæœ¬åŸï¼Œé€šå¸¸å¾ç†Šæœ¬åŸæ–¹å‘èµ°éä¾†æ˜¯ç¬¬ä¸€ç«™ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="safari-method" style="margin-top: 15px; border-color: #90CDF4;">
                    <span class="method-title" style="color: var(--kumamoto-info-text);">ä¸‹é€š (å—æ®µ) - åº¶æ°‘èˆ‡ç¾é£Ÿ</span>
                    <div class="method-detail">
                        <p>ä¸‹é€šæ˜¯æœ€ç†±é¬§çš„ä¸€æ®µï¼Œä»¥**è—¥å¦åº—ã€æœé£¾é€£é–åº—ã€é›»ç©åº—**å’Œ**é¤é£²åº—**ç‚ºä¸»ï¼Œå……æ»¿åº¶æ°‘æ´»åŠ›ã€‚å¤§éƒ¨åˆ†çŸ¥åçš„ç†Šæœ¬æ‹‰éºµåº—ï¼ˆå¦‚å¤©å¤–å¤©ï¼‰å’Œè±¬æ’åº—ï¼ˆå¦‚å‹çƒˆäº­ï¼‰éƒ½åœ¨é™„è¿‘å··å¼„ä¸­ã€‚</p>
                        <ul style="list-style-type: disc; margin-top: 5px; padding-left: 20px;">
                            <li>**é‡é»åº—å®¶ï¼š** å”å‰è¨¶å¾·ï¼ˆãƒ‰ãƒ³ã‚­ï¼‰ã€å¤§å‹è—¥å¦åº—ã€é›»å½±é™¢ã€‚</li>
                            <li>**å‚™è¨»ï¼š** é€™è£¡é è¿‘è¾›å³¶ç”ºï¼Œå¯æ­ä¹˜å¸‚é›»è¿”å›ç†Šæœ¬ç«™ï¼Œäº¤é€šä¾¿åˆ©ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ–°å¢ï¼šDay 2 é»‘å·æº«æ³‰æ•£æ­¥æ”»ç•¥ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 2: é»‘å·æº«æ³‰ æ•£ç­–èˆ‡å…¥æ¹¯æ‰‹å½¢</div>
                <div class="tag tag-relax">æº«æ³‰æ°£æ°›</div>
            </div>

            <div class="info-section" style="background-color: #FDF4F1; border-color: #78350F;">
                <h3 style="color: #78350F; border-bottom-color: #78350F;">â™¨ï¸ å…¥æ¹¯æ‰‹å½¢ (Onsen Hopping Pass)</h3>
                <p style="font-size: 0.95rem; color: #444;">
                    é€™æ˜¯é»‘å·æº«æ³‰æœ€å¤§çš„ç‰¹è‰²ï¼åªè¦è³¼è²·ä¸€æšæœ¨è£½çš„ã€Œå…¥æ¹¯æ‰‹å½¢ã€(ç´„ 1,500å††)ï¼Œå³å¯ä»»é¸ 3 é–“æ—…é¤¨çš„éœ²å¤©æº«æ³‰æ³¡æ¹¯ã€‚
                </p>
                <div class="safari-method" style="margin-top: 10px; border-color: #78350F;">
                    <span class="method-title" style="color: #78350F;">ä½¿ç”¨å°æ’‡æ­¥</span>
                    <div class="method-detail">
                        <ul style="padding-left: 20px; line-height: 1.6;">
                            <li><b>ä½œç‚ºç´€å¿µå“ï¼š</b>ä½¿ç”¨å®Œç•¢å¾Œï¼Œæ‰‹å½¢å¯ä»¥è“‹ä¸Šå°ç« å¸¶å›å®¶ç•¶æ¯å¢Šæˆ–æ›é£¾ï¼Œéå¸¸æœ‰è³ªæ„Ÿã€‚</li>
                            <li><b>å„ªæƒ æŠ˜æ‰£ï¼š</b>æ›è‘—æ‰‹å½¢åœ¨æº«æ³‰è¡—ä¸Šçš„éƒ¨åˆ†å•†åº—æ¶ˆè²»æˆ–ç”¨é¤ï¼Œå‡ºç¤ºå¯äº«æŠ˜æ‰£ã€‚</li>
                            <li><b>æ¨è–¦æ¹¯æ± ï¼š</b>é™¤äº†æ‚¨ä½å®¿çš„æ—…é¤¨å¤–ï¼Œæ¨è–¦é«”é©—ã€Œå±±æ¢…èŠ± (Yamamizuki)ã€çš„æºªæµéœ²å¤©é¢¨å‘‚ï¼Œæˆ–ã€Œæ–°æ˜é¤¨ã€çš„æ´çªŸé¢¨å‘‚ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="info-section" style="margin-top: 15px;">
                <h3>ğŸŒ² æº«æ³‰è¡—å¿…åƒèˆ‡æ°›åœ</h3>
                <p style="font-size: 0.9rem; margin-bottom: 10px;">
                    é»‘å·å…¨æ‘ç‚ºäº†ç¶­è­·æ™¯è§€ï¼Œå»ºç¯‰çµ±ä¸€ä½¿ç”¨é»‘è‰²èˆ‡æœ¨è³ªèª¿ï¼Œæ²’æœ‰éœ“è™¹ç‡ˆï¼Œåªæœ‰æŸ”å’Œçš„ç‡ˆç± ï¼Œéå¸¸é©åˆç©¿è‘—æµ´è¡£æ‹ç…§ã€‚
                </p>
                <div class="price-table">
                    <div class="price-header" style="color: #78350F; border-color: #78350F;">å¿…åƒç”œé»</div>
                    <div class="price-header" style="color: #78350F; border-color: #78350F;">ç‰¹è‰²</div>
                    <div class="price-header" style="color: #78350F; border-color: #78350F;">ä½ç½®</div>
                    
                    <div class="price-item"><b>Patisserie Roku</b></div>
                    <div class="price-item">è¶…äººæ°£ã€Œé¹½éº´æ³¡èŠ™ã€ï¼Œå¤–çš®é…¥è„†å…§é¤¡æ¿ƒéƒã€‚</div>
                    <div class="price-item">åœ°è—å ‚é™„è¿‘</div>
                    
                    <div class="price-item"><b>ç™½ç‰å­ (ç™½ç‰ãƒƒå­)</b></div>
                    <div class="price-item">ç¾ç…®ç™½ç‰æ¹¯åœ“ï¼Œå£æ„ŸQå½ˆï¼Œæ­é…é»‘èœœé»ƒè±†ç²‰ã€‚</div>
                    <div class="price-item">å·ç«¯é€š</div>
                    
                    <div class="price-item"><b>éŠ…é‘¼ç‡’ (Dora Dora)</b></div>
                    <div class="price-item">å¤¾è‘—å¸ƒä¸æˆ–å†°æ·‡æ·‹çš„å‰µæ„éŠ…é‘¼ç‡’ã€‚</div>
                    <div class="price-item">æº«æ³‰è¡—ä¸­å¿ƒ</div>
                </div>
                <a href="https://www.google.com/maps/search/?api=1&query=Patisserie+Roku+Kurokawa" target="_blank" class="btn-link" style="background-color: #78350F;">å°èˆªè‡³ Patisserie Roku ğŸ°</a>
            </div>
        </div>

        <!-- æ–°å¢ï¼šDay 3/4 ç”±å¸ƒé™¢æ•£æ­¥æ”»ç•¥ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 3-4: ç”±å¸ƒé™¢ æ¹¯ä¹‹åªè¡—é“æ”»ç•¥</div>
                <div class="tag tag-spot">è¶…å¥½é€›</div>
            </div>

            <div class="info-section" style="background-color: #F0FDF4; border-color: #15803D;">
                <h3 style="color: #15803D; border-bottom-color: #15803D;">ğŸš¶ ç¶“å…¸æ•£æ­¥è·¯ç·š</h3>
                <p style="font-size: 0.95rem; color: #444;">
                    å¾ç”±å¸ƒé™¢è»Šç«™å‡ºä¾†ï¼Œæ²¿è‘—æ­£å‰æ–¹çš„é“è·¯ç›´èµ°ï¼Œé›–ç„¶æœƒçœ‹åˆ°å£¯è§€çš„ç”±å¸ƒå²³ï¼Œä½†ç²¾è¯å€å…¶å¯¦åœ¨å³å‰æ–¹çš„<b>ã€Œæ¹¯ä¹‹åªè¡—é“ã€</b>ã€‚
                </p>
                <div class="method-detail" style="margin-top: 10px;">
                    <p><b>å»ºè­°å‹•ç·šï¼š</b> è»Šç«™ â†’ B-speak (è›‹ç³•æ²) â†’ æ¹¯ä¹‹åªè¡—é“ (ä¸»æˆ°å ´) â†’ Floral Village (ç«¥è©±æ‘) â†’ é‡‘é±—æ¹–ã€‚</p>
                    <p style="margin-top:5px; font-size:0.85rem; color:#666;">*å…¨ç¨‹æ­¥è¡Œå–®è¶Ÿç´„ 20-30 åˆ†é˜ (ä¸å«é€›è¡—)ï¼Œæ²¿è·¯éå¸¸å¹³å¦å¥½èµ°ï¼Œé©åˆæ¨è»Šã€‚</p>
                </div>
            </div>

            <div class="info-section" style="margin-top: 15px;">
                <h3>ğŸ° æ’éšŠç¾é£Ÿ & ç‰¹è‰²åº—é‹ª</h3>
                
                <div class="safari-method" style="margin-top: 10px;">
                    <span class="method-title" style="color: var(--primary);">B-speak è›‹ç³•æ² (P-roll)</span>
                    <div class="method-detail">
                        ç”±å¸ƒé™¢æœ€çŸ¥åçš„ç”œé»ï¼å£æ„Ÿè“¬é¬†è›‹é¦™æ¿ƒéƒã€‚
                        <br><span style="color: var(--danger); font-weight:bold;">âš ï¸ æ³¨æ„ï¼š</span> å°æ¢è£é€šå¸¸æ—©ä¸Š 10:30 å‰å°±æœƒè³£å…‰ã€‚è‹¥æƒ³è²·ï¼Œå»ºè­°ç¬¬ä¸€å¤©æŠµé”æ™‚å…ˆå»é è¨‚éš”å¤©å–è²¨ï¼Œæˆ–ä¸€æ—©å»æ’éšŠã€‚
                    </div>
                </div>

                <div class="safari-method" style="margin-top: 10px;">
                    <span class="method-title" style="color: var(--primary);">Milch (ãƒŸãƒ«ãƒ’) èµ·å¸æ¯</span>
                    <div class="method-detail">
                        å¿…åƒï¼æ¨è–¦é»<b>ã€Œç†±çš„ (Hot)ã€</b>èµ·å¸è›‹ç³•æ¯ï¼ŒåŠç†Ÿæµå¿ƒçš„å£æ„Ÿéå¸¸éŠ·é­‚ã€‚ä¹Ÿæœ‰å†·çš„å¯ä»¥é¸æ“‡ã€‚
                    </div>
                </div>

                <div class="safari-method" style="margin-top: 10px;">
                    <span class="method-title" style="color: var(--primary);">é‡‘è³å¯æ¨‚é¤… (é‡‘è³ã‚³ãƒ­ãƒƒã‚±)</span>
                    <div class="method-detail">
                        æ›¾ç²å…¨æ—¥æœ¬å¯æ¨‚é¤…å¤§è³½é‡‘è³ã€‚å¤–çš®é…¥è„†ï¼Œå…§é¤¡èª¿å‘³è¼ƒé‡ï¼Œé©åˆé‚Šèµ°é‚Šåƒã€‚
                    </div>
                </div>

                <div class="info-detail-box" style="margin-top: 15px; border-color: #F472B6; background-color: #FFF1F2;">
                    <h4 style="color: #DB2777;">ğŸ„ Yufuin Floral Village (ç«¥è©±æ‘)</h4>
                    <p style="font-size: 0.9rem;">
                        ä»¿ç…§è‹±åœ‹ç§‘èŒ¨æ²ƒçˆ¾å¾· (Cotswolds) æ‰“é€ çš„é»ƒè‰²çŸ®æˆ¿èšè½ã€‚é€™è£¡æœ‰ï¼š
                    </p>
                    <ul style="padding-left: 20px; font-size: 0.9rem; margin-top: 5px;">
                        <li><b>Miffy éºµåŒ…åº—ï¼š</b>é€ å‹éºµåŒ…è¶…å¯æ„›ï¼ŒäºŒæ¨“æœ‰å’–å•¡å»³ã€‚</li>
                        <li><b>é¾è²“å•†åº— (ã©ã‚“ãã‚Šã®æ£®)ï¼š</b>å‰åœåŠ›ç²‰çµ²å¿…é€›ã€‚</li>
                        <li><b>å‹•ç‰©é¤µé£Ÿï¼š</b>åœ’å€å…§æœ‰é¤Šå±±ç¾Šã€å…”å­ç”šè‡³æ¾é¼ ï¼Œå°æœ‹å‹æœƒå¾ˆæ„›ã€‚</li>
                    </ul>
                </div>
                <a href="https://www.google.com/maps/search/?api=1&query=Yufuin+Floral+Village" target="_blank" class="btn-link">å°èˆªè‡³ç«¥è©±æ‘ ğŸ“</a>
            </div>
        </div>


        <!-- ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’ æ”»ç•¥ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">Day 3: ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’ (æ”»ç•¥)</div>
                <div class="tag tag-tip">é‡é»è³‡è¨Š</div>
            </div>

            <!-- é–€ç¥¨è³‡è¨Š -->
            <div class="info-section" style="border-color: #F59E0B;">
                <h3 style="color: var(--secondary);">ğŸ’° é–€ç¥¨èˆ‡è²»ç”¨ (åƒè€ƒ)</h3>
                <div class="price-table">
                    <div class="price-header">é …ç›®</div>
                    <div class="price-header">æˆäºº</div>
                    <div class="price-header">4æ­²~ä¸­å­¸ç”Ÿ</div>
                    
                    <div class="price-item">å…¥åœ’è²»</div>
                    <div class="price-item">Â¥2,600</div>
                    <div class="price-item">Â¥1,500</div>
                    
                    <div class="price-item">å¢æ—å·´å£« (Jungle Bus)</div>
                    <div class="price-item">Â¥1,400</div>
                    <div class="price-item">Â¥1,200</div>
                    
                    <div class="price-item" style="font-weight: 700;">è‡ªé§•è»Šå°è¦½æ”¶éŸ³æ©Ÿ</div>
                    <div class="price-item" colspan="2">Â¥600 (æ¯å°è»Š)</div>
                </div>
                <p class="detail" style="margin-top: 10px; font-size: 0.85rem; color: var(--danger);">
                    **è²»ç”¨ç¸½è¨ˆï¼š** è‹¥é¸æ“‡ã€Œå…¥åœ’ + å¢æ—å·´å£«ã€ï¼Œæ¯ä½æˆäººç´„ Â¥4,000ã€‚
                </p>
            </div>
            
            <!-- å¢æ—å·´å£«é ç´„æ•™å­¸ -->
            <div class="info-section">
                <h3>ğŸšŒ å¢æ—å·´å£« (Jungle Bus) é ç´„æ•™å­¸</h3>
                 
                <p style="font-size: 0.95rem; font-weight: 600;">
                    å¢æ—å·´å£«æ˜¯å¿…ç©é …ç›®ï¼å»ºè­°æ‚¨æå‰é ç´„ï¼Œä»¥ç¢ºä¿æœ‰ä½å­ï¼Œç‰¹åˆ¥æ˜¯é€±æœ«æˆ–å‡æœŸã€‚
                </p>
                <ol style="font-size: 0.9rem; margin-top: 10px; padding-left: 20px;">
                    <li>**ç·šä¸Šé ç´„ (æ¨è–¦)ï¼šï¼š** å®˜æ–¹ç¶²ç«™é€šå¸¸æœƒåœ¨å‡ºç™¼æ—¥æœŸçš„å‰ 1 å€‹æœˆå·¦å³é–‹æ”¾é ç´„ã€‚é¸æ“‡æ—¥æœŸèˆ‡æ™‚æ®µï¼Œç·šä¸Šä»˜è²»ã€‚</li>
                    <li>**ç•¶æ—¥ç¾å ´è³¼ç¥¨ï¼šï¼š** å¦‚æœç„¡æ³•ç·šä¸Šé è¨‚ï¼Œè«‹å‹™å¿…åœ¨**ä¸€é–‹åœ’æ™‚**ï¼ˆæˆ–é è¨ˆæŠµé”æ™‚ï¼‰ç«‹åˆ»å‰å¾€å”®ç¥¨è™•è³¼è²·ç•¶æ—¥çš„å ´æ¬¡ã€‚ç†±é–€æ™‚æ®µå®¹æ˜“å®¢æ»¿ã€‚</li>
                    <li>**é¸æ“‡æ™‚æ®µï¼šï¼š** å»ºè­°é¸æ“‡å‰›å…¥åœ’å¾Œçš„æ™‚æ®µï¼ˆç´„ 14:30-15:30ï¼‰ï¼Œä»¥å…è€½èª¤å¾ŒçºŒå‰å¾€ç”±å¸ƒé™¢çš„è¡Œç¨‹ã€‚</li>
                </ol>
            </div>


            <!-- æ··åˆé«”é©—å»ºè­° -->
            <div class="info-section" style="background-color: #FFFBEB; border-color: var(--secondary);">
                <h3 style="color: var(--secondary);">ğŸš— å¦‚ä½•å…¼é¡§è‡ªé§•èˆ‡å¢æ—å·´å£« (å®Œç¾é«”é©—è·¯ç·š)</h3>
                <p style="font-size: 0.95rem;">
                    æƒ³è¦å®Œæ•´é«”é©—å‹•ç‰©åœ’ï¼Œå»ºè­°å°‡è‡ªé§•è§€è³èˆ‡å·´å£«é¤µé£Ÿçµåˆï¼š
                </p>
                
                <div class="safari-method" style="border-color: var(--secondary);">
                    <span class="method-title" style="color: var(--secondary);">æ­¥é©Ÿä¸€ï¼šè‡ªé§•é«”é©— (å…è²»ï¼Œéœ€ç§Ÿå€Ÿå°è¦½æ©Ÿ)</span>
                    <div class="method-detail">
                        <p>
                            **å…ˆé–‹æ‚¨è‡ªå·±çš„ç§Ÿè³ƒè»Š**é€²å…¥ Safari Zone é€›ä¸€åœˆã€‚é€™æ¨£å¯ä»¥å¾å®¹åœ°ç”¨è‡ªå·±çš„é€Ÿåº¦è§€è³å‹•ç‰©ï¼Œä¸”è»Šå…§ç©ºé–“å¤§è¼ƒç‚ºèˆ’é©ã€‚
                        </p>
                        <p style="margin-top: 5px;">
                            **å„ªé»ï¼š** æ„Ÿå—å‹•ç‰©é è¿‘è»Šè¼›çš„éœ‡æ’¼æ„Ÿï¼Œä¸å—æ™‚é–“é™åˆ¶ã€‚
                        </p>
                    </div>
                </div>
                
                <div class="safari-method" style="margin-top: 15px; border-color: var(--danger);">
                    <span class="method-title recommended" style="color: var(--danger);">æ­¥é©ŸäºŒï¼šå¢æ—å·´å£« (é¤µé£Ÿé«”é©—ï¼Œéœ€é ç´„)</span>
                    <div class="method-detail">
                        <p>
                            **éš¨å¾Œå†æ­ä¹˜å¢æ—å·´å£«**ã€‚å·´å£«æœƒåœ¨è»Šä¸Šå®šé»åœè»Šï¼Œè®“å­©å­å€‘è¦ªæ‰‹å°‡é£¼æ–™å¾é˜²è­·ç¶²é¤µçµ¦å‹•ç‰©ã€‚é€™æ˜¯è‡ªé§•ç„¡æ³•å–ä»£çš„äº’å‹•æ¨‚è¶£ï¼
                        </p>
                        <p style="margin-top: 5px;">
                            **æ™‚ç¨‹å®‰æ’ï¼š** å»ºè­° 14:30 æŠµé”å¾Œï¼Œå…ˆå¿«é€Ÿè‡ªé§•ä¸€åœˆ (ç´„ 30-40 åˆ†é˜)ï¼Œå†æ¥è‘—æ­ä¹˜é ç´„å¥½çš„å·´å£«å ´æ¬¡ (ç´„ 50 åˆ†é˜)ã€‚
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- è¦ªè¿‘å€å»ºè­° -->
            <div class="info-section" style="margin-top: 16px;">
                 <h3>ğŸ• è¦ªè¿‘å€ (Fureai Zone) å»ºè­°</h3>
                 <div class="method-detail">
                    <p>åƒè§€å®Œ Safari Zone å¾Œï¼Œè«‹å‹™å¿…åˆ°è¦ªè¿‘å€èµ°èµ°ã€‚é€™è£¡æœ‰**è¢‹é¼ ã€å¤©ç«ºé¼ **ç­‰å¯æ„›çš„å°å‹•ç‰©å¯ä»¥æ‘¸æ‘¸æŠ±æŠ±ï¼Œé‚„æœ‰**é¨é¦¬é«”é©—**ï¼ˆéœ€å¦å¤–ä»˜è²»ï¼‰ï¼Œéå¸¸é©åˆå°æœ‹å‹ç©æ¨‚ï¼Œé€šå¸¸æœƒèŠ±è²» 1-1.5 å°æ™‚ã€‚</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=African+Safari+Oita" target="_blank" class="btn-link">æŸ¥çœ‹å‹•ç‰©å…¬åœ’å®˜ç¶² (æœå°‹)</a>
                </div>
            </div>
        </div>
        
        <!-- ç¦å²¡éºµåŒ…è¶…äººå…’ç«¥åšç‰©é¤¨ æ”»ç•¥ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">ç¦å²¡éºµåŒ…è¶…äººå…’ç«¥åšç‰©é¤¨ (æ”»ç•¥)</div>
                <div class="tag tag-kids">è¦ªå­å‚™æ¡ˆ</div>
            </div>
            <div class="info-section" style="border-color: #F472B6;">
                <h3 style="color: #DB2777; border-bottom-color: #F472B6;">ğŸ éºµåŒ…è¶…äººåšç‰©é¤¨é‡é»</h3>
                <div class="method-detail">
                    <p>é€™æ˜¯ä¸€å€‹å°ˆç‚ºå­¸é½¡å‰å…’ç«¥è¨­è¨ˆçš„å¤¢å¹»æ¨‚åœ’ï¼Œä½æ–¼å¸‚ä¸­å¿ƒï¼Œäº¤é€šæ¥µåº¦ä¾¿åˆ©ï¼ˆåœ°éµç›´çµï¼‰ã€‚</p>
                    <ul style="list-style-type: disc; margin-top: 10px; padding-left: 20px;">
                        <li><b>ä½ç½®ï¼š</b>åšå¤šæ²³ç•”åŸ (Hakata Riverain Mall) 5F/6Fã€‚</li>
                        <li><b>äº¤é€šï¼š</b>åœ°éµç©ºæ¸¯ç·š/ç®±å´ç·šã€Œä¸­æ´²å·ç«¯ç«™ã€6è™Ÿå‡ºå£ç›´é”ã€‚</li>
                        <li><b>é–€ç¥¨ï¼š</b>1æ­²ä»¥ä¸Šçµ±ä¸€ç¥¨åƒ¹ (ç´„ 2,000-2,200å††)ï¼Œ1æ­²ä»¥ä¸‹å…è²»ã€‚</li>
                    </ul>
                </div>
                
                <div class="safari-method" style="margin-top: 15px; border-color: #F472B6;">
                    <span class="method-title" style="color: #DB2777;">å¿…ç©äº®é»</span>
                    <div class="method-detail">
                        <ul style="padding-left: 20px;">
                            <li><b>éºµåŒ…è¶…äººè¡¨æ¼”ç§€ï¼š</b>æ¯å¤©æœ‰å›ºå®šå ´æ¬¡ï¼Œè§’è‰²æœƒå‡ºä¾†è·³èˆäº’å‹•ã€‚</li>
                            <li><b>æœé†¬çˆºçˆºçš„éºµåŒ…å·¥å» ï¼š</b>å¿…è²·ï¼é‚„åŸåº¦è¶…é«˜çš„é€ å‹éºµåŒ…ï¼Œé›–ç„¶åƒ¹æ ¼ç¨é«˜ä½†éå¸¸å¯æ„›ã€‚</li>
                            <li><b>ç”Ÿæ—¥æœå‹™ï¼š</b>è‹¥å­©å­ç•¶æœˆç”Ÿæ—¥ï¼Œå¯ç²å¾—ç”Ÿæ—¥è²¼ç´™å’Œçš‡å†  (éœ€å‘å·¥ä½œäººå“¡è©¢å•)ã€‚</li>
                        </ul>
                    </div>
                </div>
                 <p class="detail" style="margin-top: 10px; font-size: 0.85rem; color: var(--danger);">
                    **æ³¨æ„ï¼š** é¤¨å…§é€šå¸¸ç¦æ­¢é£²é£Ÿï¼ˆå¬°å…’å‰¯é£Ÿå“é™¤å¤–ï¼‰ï¼Œä¸”å¬°å…’è»Šéœ€å¯„æ”¾åœ¨å…¥å£è™•ã€‚
                </p>
            </div>
        </div>

        <!-- ä¼´æ‰‹ç¦®æ”»ç•¥ -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">ğŸ ç¦å²¡ & ç†Šæœ¬ å¿…è²·ä¼´æ‰‹ç¦®æ¸…å–®</div>
                <div class="tag tag-shop">è³¼ç‰©</div>
            </div>
            
            <div class="info-section" style="border-color: #F87171;">
                <h3 style="color: #DC2626; border-bottom-color: #F87171;">ğŸ“ ç¦å²¡ (åšå¤šç«™/æ©Ÿå ´)</h3>
                <div class="method-detail">
                    <ul style="padding-left: 20px; line-height: 1.6;">
                        <li><b>åšå¤šé€šã‚Šã‚‚ã‚“ (åšå¤šé€šé¥…é ­)ï¼š</b>ç¦å²¡No.1ä¼´æ‰‹ç¦®ï¼Œå……æ»¿å¥¶é¦™çš„ç™½è±†æ²™é¥…é ­ï¼Œå¿…è²·ï¼</li>
                        <li><b>Menbei (æ˜å¤ªä»™è²)ï¼š</b>ç¦å¤ªéƒæ¨å‡ºçš„æ˜å¤ªå­ä»™è²ï¼Œé¹¹é¦™é…¥è„†ï¼Œé©åˆç•¶ä¸‹é…’èœã€‚</li>
                        <li><b>åŠªåŠªé› (å†·ç‚¸é›)ï¼š</b>å£æ„Ÿç¨ç‰¹çš„å†°æ¶¼ç‚¸é›ï¼Œé©åˆåœ¨é£¯åº—äº«ç”¨æˆ–æœ€å¾Œä¸€å¤©å¸¶å› (éœ€ä¿å†·)ã€‚</li>
                        <li><b>ç­‘ç´«éº»ç³¬ (ç­‘ç´«ã‚‚ã¡)ï¼š</b>æ·‹ä¸Šé»‘ç³–èœœçš„é»ƒè±†ç²‰éº»ç³¬ï¼Œå£æ„Ÿç²¾ç·»ã€‚</li>
                        <li><b>Tubu Tube æ˜å¤ªå­é†¬ï¼š</b>ç®¡ç‹€åŒ…è£çš„æ˜å¤ªå­ï¼Œæ–¹ä¾¿æ–™ç†æˆ–å¡—æŠ¹éºµåŒ…ã€‚</li>
                    </ul>
                </div>
            </div>

            <div class="info-section kumamoto">
                <h3 style="color: var(--kumamoto-info-text); border-bottom-color: #90CDF4;">ğŸ» ç†Šæœ¬ (ç†Šæœ¬ç«™/åŸå½©è‹‘)</h3>
                <div class="method-detail">
                    <ul style="padding-left: 20px; line-height: 1.6;">
                        <li><b>è­½ä¹‹é™£å¤ªé¼“ (èª‰ã®é™£å¤ªé¼“)ï¼š</b>ç´…è±†ç¾Šç¾¹åŒ…è¦†æ±‚è‚¥(éº»ç³¬)çš„ç¶“å…¸ç”œé»ï¼ŒåŒ…è£ç²¾ç¾ã€‚</li>
                        <li><b>é»‘ç³–å¤šç´èŒ²æ£’ï¼š</b>å¤–é…¥å…§è»Ÿçš„é»‘ç³–æ¢ç‹€ç”œç”œåœˆï¼Œé…ç‰›å¥¶è¶…æ­ã€‚</li>
                        <li><b>æ­¦è€…è¿” (æ­¦è€…ãŒãˆã—)ï¼š</b>ä»¥ç†Šæœ¬åŸçŸ³ç‰†å‘½åçš„ç´…è±†é…¥çš®é»å¿ƒã€‚</li>
                        <li><b>ç†Šæœ¬ç†Š (Kumamon) å‘¨é‚Šï¼š</b>ç†Šæœ¬é™å®šçš„éƒ¨é•·å•†å“ï¼Œåœ¨ç†Šæœ¬ç«™æˆ–æ©Ÿå ´éƒ½è²·å¾—åˆ°ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- TAB 5: AI åŠ©æ‰‹ -->
    <div id="view-ai" class="container">
        <!-- ... existing AI Tab content ... -->
        <div class="card" style="height: calc(100vh - 140px); min-height: 500px; display: flex; flex-direction: column;">
            <div class="ai-header" id="ai-modal-title">
                <!-- ä¿®æ­£ 1: æ¨™é¡Œ Sparkles æ›æˆ SVG -->
                <svg class="icon-mini" style="width: 24px; height: 24px; color: #F59E0B;" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>
                <span>éš¨èº« AI ç¿»è­¯èˆ‡åŠ©æ‰‹</span>
            </div>
            
            <div class="chat-history" id="chat-history">
                <!-- Welcome Message Bubble (Injected by JS) -->
            </div>

            <div class="ai-input-group" id="ai-input-area" style="display: block; margin-top: auto;">
                <div class="ai-input-wrapper">
                    <input type="text" class="ai-input" id="ai-user-input" placeholder="è«‹è¼¸å…¥å…§å®¹..." onkeypress="handleEnter(event)">
                    
                    <!-- æ–°å¢ï¼šèªéŸ³è¾¨è­˜èªè¨€åˆ‡æ›é–‹é—œ -->
                    <div class="voice-lang-switch">
                        <span style="font-weight:600; color:#9CA3AF; font-size:0.75rem; display: flex; align-items: center; gap: 4px;">
                            <svg class="icon-mini" style="width: 14px; height: 14px;" viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                            èª°åœ¨èªªè©±:
                        </span>
                        
                        <!-- é¸é … 1: å°ç£ (ä¸­æ–‡) - åœ“å½¢ç°¡ç´„ç‰ˆ -->
                        <label class="lang-option" title="æˆ‘ (èªªä¸­æ–‡)">
                            <input type="radio" name="voice_lang" value="zh-TW" checked onchange="updatePlaceholder()">
                            <!-- Simplified Taiwan Circle Flag -->
                            <svg class="flag-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <mask id="maskTW"><circle cx="12" cy="12" r="12" fill="white"/></mask>
                                <g mask="url(#maskTW)">
                                    <rect width="24" height="24" fill="#FE0000"/>
                                    <rect width="12" height="12" fill="#000095"/>
                                    <!-- ç°¡åŒ–çš„é’å¤©ç™½æ—¥ (åŒå¿ƒåœ“é¢¨æ ¼) -->
                                    <circle cx="6" cy="6" r="3.5" fill="white"/>
                                    <circle cx="6" cy="6" r="2.5" fill="#000095"/>
                                    <circle cx="6" cy="6" r="1.5" fill="white"/>
                                </g>
                            </svg>
                        </label>
                        
                        <!-- é¸é … 2: æ—¥æœ¬ (æ—¥æ–‡) - åœ“å½¢ç°¡ç´„ç‰ˆ -->
                        <label class="lang-option" title="åº—å“¡ (èªªæ—¥æ–‡)">
                            <input type="radio" name="voice_lang" value="ja-JP" onchange="updatePlaceholder()">
                            <!-- Simplified Japan Circle Flag -->
                            <svg class="flag-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="11.5" fill="white" stroke="#E5E7EB"/>
                                <circle cx="12" cy="12" r="5" fill="#BC002D"/>
                            </svg>
                        </label>
                    </div>

                    <div class="ai-actions-row">
                        <button class="btn-mode consult" onclick="sendToGemini('consult')">
                            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon></svg>
                            è¡Œç¨‹è«®è©¢
                        </button>
                        <button class="btn-mode trans" onclick="sendToGemini('translate')">
                            <svg viewBox="0 0 24 24"><path d="M7 10h14"></path><path d="M17 6l4 4-4 4"></path><path d="M17 14H3"></path><path d="M7 18l-4-4 4-4"></path></svg>
                            ä¸­/æ—¥ç¿»è­¯
                        </button>
                        <!-- Voice Button -->
                        <button class="btn-mode voice" id="btn-voice-ja">
                            <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                            èªéŸ³è¼¸å…¥
                        </button>
                    </div>
                </div>
            </div>
            
            <button id="btn-back-trans" class="btn-ai-reset" onclick="showAiTranslatorMode()">
                 â†©ï¸ è¿”å›ä¸€èˆ¬æ¨¡å¼
            </button>
        </div>
    </div>

    <!-- TAB 6: å³æ™‚å¤©æ°£ (New) -->
    <div id="view-weather" class="container">
        <div class="card">
            <div class="card-header">
                <!-- ä¿®æ­£ 1: å°‡ Emoji ğŸŒ æ›æˆç°¡ç´„ SVG åœ°çƒåœ–ç¤º -->
                <div class="card-title" style="display: flex; align-items: center; gap: 6px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--primary);"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    å³æ™‚å¤©æ°£æŸ¥è©¢ & ç©¿è¡£å»ºè­°
                </div>
            </div>
            
            <div class="weather-search-box">
                <input type="text" id="weather-city-input" class="weather-input" placeholder="è¼¸å…¥åŸå¸‚ (ä¾‹å¦‚: ç†Šæœ¬, ç”±å¸ƒé™¢)">
                <button class="btn-weather-search" onclick="fetchRealtimeWeather()">æŸ¥è©¢</button>
            </div>

            <!-- Main Result -->
            <div id="weather-result" style="display:none;">
                <div class="weather-card-main">
                    <div class="wc-loc" id="wc-loc">--</div>
                    <div class="wc-temp-big" id="wc-temp">--Â°</div>
                    <div class="wc-desc" id="wc-desc">è¼‰å…¥ä¸­...</div>
                </div>

                <!-- Comparison Row -->
                <div class="weather-compare-row">
                    <div class="wc-mini-card" onclick="getLocalWeather()" style="cursor:pointer; background:#F9FAFB;">
                        <!-- ä¿®æ­£ 1: æˆ‘çš„ä½ç½®åœ–ç¤º (Pin) -->
                        <div class="wc-mini-title" style="display: flex; align-items: center; justify-content: center;">
                            <svg class="icon-mini" style="color: #EF4444;" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                            æˆ‘çš„ä½ç½® (é»æ“Šæ›´æ–°)
                        </div>
                        <div class="wc-mini-temp" id="wc-my-temp">--Â°</div>
                    </div>
                    <div class="wc-mini-card">
                        <!-- ä¿®æ­£ 2: æº«å·®å°æ¯”åœ–ç¤º (Thermometer) -->
                        <div class="wc-mini-title" style="display: flex; align-items: center; justify-content: center;">
                            <svg class="icon-mini" style="color: #3B82F6;" viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>
                            æº«å·®å°æ¯”
                        </div>
                        <div id="wc-diff-tag" class="wc-diff-tag" style="display:none;">--</div>
                        <div id="wc-diff-text" style="font-size:0.8rem; color:#666; margin-top:2px;">--</div>
                    </div>
                </div>

                <!-- AI Advice -->
                <div class="advice-box">
                    <!-- ä¿®æ­£ 3: ç©¿è¡£å»ºè­°åœ–ç¤º (Shirt) -->
                    <strong style="display: flex; align-items: center; gap: 4px;">
                        <svg class="icon-mini" style="color: #059669;" viewBox="0 0 24 24"><path d="M20.38 3.46L16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"></path></svg>
                        AI ç©¿è¡£å»ºè­°ï¼š
                    </strong>
                    <div style="margin-top: 5px;" id="wc-advice">åˆ†ææ°£å€™æ•¸æ“šä¸­...</div>
                </div>
                
                <div style="font-size: 0.75rem; color: #9CA3AF; text-align: center; margin-top: 15px;">
                    * å¤©æ°£æ•¸æ“šä¾†æºï¼šOpen-Meteo Real-time API<br>
                    * ç©¿è¡£å»ºè­°ç”± Google Gemini AI åˆ†æç”Ÿæˆ
                </div>
            </div>
            
            <!-- Default / Loading State -->
            <div id="weather-placeholder" style="text-align: center; padding: 40px; color: #9CA3AF;">
                <svg viewBox="0 0 24 24" style="width: 60px; height: 60px; stroke: #D1D5DB; fill: none; stroke-width: 1.5; margin-bottom: 10px;"><path d="M12 2v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="M20 12h2"></path><path d="m19.07 4.93-1.41 1.41"></path><path d="M15.947 12.65a4 4 0 0 0-5.925-4.128"></path><path d="M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z"></path></svg>
                <div>è«‹è¼¸å…¥åŸå¸‚åç¨±æŸ¥è©¢å³æ™‚å¤©æ°£</div>
            </div>
        </div>
    </div>

    <!-- è‡ªå®šç¾©å½ˆå‡ºè¦–çª— HTML -->
    <div id="location-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-title">æ‰‹å‹•è¨­å®šä½ç½®</div>
            <div class="modal-desc" id="modal-msg">ç„¡æ³•å–å¾— GPS å®šä½ï¼Œè«‹æ‰‹å‹•è¼¸å…¥æ‚¨æ‰€åœ¨çš„åŸå¸‚ä»¥é€²è¡Œæº«å·®æ¯”å°ã€‚</div>
            <input type="text" id="modal-city-input" class="modal-input" placeholder="ä¾‹å¦‚: å°åŒ—, Taichung" value="å°åŒ—">
            <div class="modal-btns">
                <button class="modal-btn btn-cancel" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="modal-btn btn-confirm" onclick="submitManualLocation()">ç¢ºå®š</button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation Bar (6 items now) -->
    <nav class="nav-bar">
        <div class="nav-item active" data-target="view-schedule" onclick="switchTab(this)">
            <span class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            </span>
            è¡Œç¨‹è¡¨
        </div>
        <div class="nav-item" data-target="view-stay" onclick="switchTab(this)">
            <span class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 22v-8c0-1.1.9-2 2-2h4v10H4c-1.1 0-2-.9-2-2zM22 22v-8c0-1.1-.9-2-2-2h-4v10h4c1.1 0 2-.9 2-2zM12 2L2 12h3v8h4v-6h6v6h4v-8h3L12 2z"></path></svg>
            </span>
            ä½å®¿è³‡è¨Š
        </div>
        <div class="nav-item" data-target="view-car" onclick="switchTab(this)">
            <span class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/><path d="M5 17h2"/><path d="M15 17h2"/></svg>
            </span>
            äº¤é€šè³‡è¨Š
        </div>
        <div class="nav-item" data-target="view-info" onclick="switchTab(this)">
            <span class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
            </span>
            æ—…éŠè³‡è¨Š
        </div>
        
        <!-- èª¿æ•´é †åº: å…ˆæ”¾å¤©æ°£ -->
        <div class="nav-item" data-target="view-weather" onclick="switchTab(this)">
            <span class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg>
            </span>
            å³æ™‚å¤©æ°£
        </div>

        <!-- èª¿æ•´é †åº: AI åŠ©æ‰‹æ”¾åˆ°æœ€å¾Œ -->
        <div class="nav-item" data-target="view-ai" onclick="switchTab(this)">
            <span class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>
            </span>
            AI åŠ©æ‰‹
        </div>
    </nav>

    <script>
        // API Configuration
        const apiKey = ""; // API Key injected by environment

        // Weather Data Configuration
        // Icons: Using simple SVG strings for white icons
        const weatherIcons = {
            'sun': '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>',
            'cloud': '<svg viewBox="0 0 24 24"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path></svg>',
            'cloud-sun': '<svg viewBox="0 0 24 24"><path d="M12 2v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="M20 12h2"></path><path d="m19.07 4.93-1.41 1.41"></path><path d="M15.947 12.65a4 4 0 0 0-5.925-4.128"></path><path d="M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z"></path></svg>',
            'rain': '<svg viewBox="0 0 24 24"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"></path><path d="M16 14v6"></path><path d="M8 14v6"></path><path d="M12 16v6"></path></svg>',
            'snow': '<svg viewBox="0 0 24 24"><path d="M4.5 10H4a7 7 0 1 1 7-7v.5"></path><path d="M10 14a6 6 0 0 0-6-6"></path><line x1="12" y1="16" x2="12" y2="22"></line><line x1="12" y1="22" x2="9" y2="19"></line><line x1="12" y1="22" x2="15" y2="19"></line><line x1="18.5" y1="12" x2="22" y2="12"></line><line x1="22" y1="12" x2="19.5" y2="9.5"></line><line x1="22" y1="12" x2="19.5" y2="14.5"></line><line x1="5" y1="18.5" x2="2" y2="18.5"></line><line x1="2" y1="18.5" x2="4.5" y2="21"></line><line x1="2" y1="18.5" x2="4.5" y2="16"></line><line x1="17.5" y1="18.5" x2="20.5" y2="21"></line><line x1="17.5" y1="18.5" x2="20.5" y2="16"></line></svg>'
        };

        const weatherData = {
            'd1': { loc: 'ç†Šæœ¬å¸‚', date: '1/25 (Day 1)', temp: '10Â°C', range: '2Â°C ~ 11Â°C', desc: 'æ™´æ™‚å¤šé›²', advice: 'æ°£æº«é©ä¸­ä½†æ—©æ™šåæ¶¼ï¼Œé•·è¢–é…å¤–å¥—ã€‚', icon: 'cloud-sun' },
            'd2': { loc: 'é˜¿è˜‡/é»‘å·', date: '1/26 (Day 2)', temp: '5Â°C', range: '-3Â°C ~ 6Â°C', desc: 'å¤šé›²/é£„é›ª', advice: 'å±±å€æ¥µå†·ï¼Œå‹™å¿…ç©¿è‘—ç¾½çµ¨å¤–å¥—ä¿æš–ã€‚', icon: 'snow' },
            'd3': { loc: 'åˆ¥åºœ/ç”±å¸ƒé™¢', date: '1/27 (Day 3)', temp: '7Â°C', range: '0Â°C ~ 8Â°C', desc: 'å¤šé›²', advice: 'æ¿•åº¦è¼ƒé«˜é«”æ„Ÿå¯’å†·ï¼Œè«‹ç©¿é˜²æ»‘é‹ã€‚', icon: 'cloud' },
            'd4': { loc: 'ç¦å²¡å¸‚', date: '1/28 (Day 4)', temp: '9Â°C', range: '4Â°C ~ 10Â°C', desc: 'é™°å¤©', advice: 'å¸‚å€é¢¨å¤§ï¼Œå»ºè­°ç©¿è‘—é˜²é¢¨å¤–å¥—ã€‚', icon: 'cloud' },
            'd5': { loc: 'ç¦å²¡å¸‚', date: '1/29 (Day 5)', temp: '10Â°C', range: '3Â°C ~ 11Â°C', desc: 'æ™´æœ—', advice: 'æ—©æ™šæº«å·®å¤§ï¼Œæ´‹è”¥å¼ç©¿æ³•æœ€ä½³ã€‚', icon: 'sun' },
            'd6': { loc: 'ç¦å²¡å¸‚', date: '1/30 (Day 6)', temp: '9Â°C', range: '4Â°C ~ 10Â°C', desc: 'å¤šé›²æ™‚æ™´', advice: 'å®¤å…§æš–æ°£å¼·ï¼Œå…§æ­ä¸å®œéåšã€‚', icon: 'cloud-sun' }
        };

        function updateWeatherWidget(dayId) {
            const data = weatherData[dayId];
            if (data) {
                document.getElementById('hw-loc').innerText = data.loc;
                document.getElementById('hw-date').innerText = data.date;
                document.getElementById('hw-temp').innerText = data.temp; 
                document.getElementById('hw-desc').innerText = data.desc;
                document.getElementById('hw-range').innerText = data.range;
                document.getElementById('hw-advice').innerText = data.advice;
                
                // Update Icon
                const iconSvg = weatherIcons[data.icon] || weatherIcons['cloud'];
                // Wrap in svg tag with stroke/fill settings
                const fullSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${iconSvg.replace('<svg viewBox="0 0 24 24">', '').replace('</svg>', '')}</svg>`;
                document.getElementById('hw-icon').innerHTML = fullSvg;
            }
        }
                
        // --- REAL-TIME WEATHER FUNCTIONS (Using Open-Meteo Free API) ---
        let currentMyTemp = null;

        // æ™ºæ…§åœ°åç¿»è­¯å°ç…§è¡¨ (ä¿ç•™ä½œç‚ºå¿«é€Ÿå¿«å–ï¼Œç¯€çœ AI è³‡æº)
        const cityMapping = {
            'ç”±å¸ƒé™¢': 'Yufuin',
            'æ¹¯å¸ƒé™¢': 'Yufuin',
            'é»‘å·': 'Minamioguni', 
            'é»‘å·æº«æ³‰': 'Minamioguni',
            'ç†Šæœ¬': 'Kumamoto',
            'ç†Šæœ¬å¸‚': 'Kumamoto',
            'é˜¿è˜‡': 'Aso',
            'åˆ¥åºœ': 'Beppu',
            'ç¦å²¡': 'Fukuoka',
            'åšå¤š': 'Fukuoka',
            'å¤ªå®°åºœ': 'Dazaifu',
            'é«˜åƒç©—': 'Takachiho'
        };

        // æ–°å¢ï¼šç¨ç«‹çš„ Gemini å‘¼å«å‡½æ•¸ï¼Œåªå›å‚³æ–‡å­—ï¼Œä¸æ“ä½œ UI
        async function getGeminiResponse(promptText) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: promptText }] }]
                    })
                });

                const data = await response.json();
                if (data.error) throw new Error(data.error.message);
                
                let text = data.candidates[0].content.parts[0].text.trim();
                // æ¸…ç†å¯èƒ½çš„å›å‚³æ ¼å¼
                text = text.replace(/```(html|json)?/g, '').replace(/```/g, '').trim();
                return text;
            } catch (error) {
                console.error("AI Fetch Error:", error);
                throw error;
            }
        }

        async function fetchRealtimeWeather() {
            const rawInput = document.getElementById('weather-city-input').value.trim();
            if (!rawInput) {
                alert('è«‹è¼¸å…¥åŸå¸‚åç¨±');
                return;
            }

            // UI Loading State
            document.getElementById('weather-placeholder').style.display = 'none';
            document.getElementById('weather-result').style.display = 'block';
            document.getElementById('wc-loc').innerText = rawInput; 
            document.getElementById('wc-desc').innerText = 'æº–å‚™ä¸­...';
            document.getElementById('wc-temp').innerText = '--Â°';
            document.getElementById('wc-advice').innerText = '...';

            let searchTerm = rawInput;
            let isTranslated = false;

            try {
                // æ­¥é©Ÿ 1: å…ˆæª¢æŸ¥å¿«é€Ÿå°ç…§è¡¨ (æœ€å¿«)
                for (const key in cityMapping) {
                    if (rawInput.includes(key)) {
                        searchTerm = cityMapping[key];
                        isTranslated = true;
                        console.log("ä½¿ç”¨å…§å»ºå°ç…§è¡¨:", searchTerm);
                        break;
                    }
                }

                // æ­¥é©Ÿ 2: å¦‚æœå°ç…§è¡¨æ²’æœ‰ï¼Œè«‹æ±‚ AI åœ¨èƒŒæ™¯ç¿»è­¯ (æ‚¨çš„æ–°æƒ³æ³•!)
                if (!isTranslated) {
                    document.getElementById('wc-desc').innerText = 'ğŸ” AI æ­£åœ¨ç¿»è­¯åœ°å...';
                    
                    const translatePrompt = `
                        Task: Translate the place name "${rawInput}" into its official English Romanization name for using in a Weather API.
                        Target: Japan locations.
                        Rule: Output ONLY the English name. No explanations.
                        Example: "é»‘å·æº«æ³‰" -> "Minamioguni" (or Kurokawa Onsen), "ç”±å¸ƒé™¢" -> "Yufuin".
                    `;
                    
                    try {
                        const aiTranslation = await getGeminiResponse(translatePrompt);
                        // ç°¡å–®é©—è­‰å›å‚³æ˜¯å¦ç‚ºè‹±æ–‡
                        if (/^[a-zA-Z\s\-,]+$/.test(aiTranslation)) {
                            searchTerm = aiTranslation;
                            isTranslated = true;
                            console.log("AI ç¿»è­¯çµæœ:", searchTerm);
                            document.getElementById('wc-desc').innerText = `æœå°‹: ${searchTerm}...`;
                        }
                    } catch (e) {
                        console.warn("AI ç¿»è­¯å¤±æ•—ï¼Œå˜—è©¦ä½¿ç”¨åŸå§‹ä¸­æ–‡æœå°‹");
                    }
                }

                document.getElementById('wc-desc').innerText = 'é€£ç·šæ°£è±¡è¡›æ˜Ÿ...';

                // æ­¥é©Ÿ 3: Geocoding API æŸ¥è©¢
                // å„ªå…ˆä½¿ç”¨ç¿»è­¯å¾Œçš„è‹±æ–‡ï¼Œè‹¥ç„¡å‰‡ç”¨ä¸­æ–‡
                let geoUrl = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(searchTerm)}&count=1&language=en&format=json`;
                let geoRes = await fetch(geoUrl);
                let geoData = await geoRes.json();

                // è‹±æ–‡æ‰¾ä¸åˆ°ï¼Œæœ€å¾Œå˜—è©¦ä¸­æ–‡
                if ((!geoData.results || geoData.results.length === 0) && isTranslated) {
                     geoUrl = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(rawInput)}&count=1&language=zh&format=json`;
                     geoRes = await fetch(geoUrl);
                     geoData = await geoRes.json();
                }

                if (!geoData.results || geoData.results.length === 0) {
                     throw new Error(`æ‰¾ä¸åˆ°ã€Œ${rawInput}ã€<br>AI ç¿»è­¯: ${searchTerm}`);
                }

                const { latitude, longitude, name, country } = geoData.results[0];
                
                // æ­¥é©Ÿ 4: å–å¾—å¤©æ°£
                const weatherUrl = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`;
                const weatherRes = await fetch(weatherUrl);
                const weatherData = await weatherRes.json();

                const temp = weatherData.current_weather.temperature;
                const weatherCode = weatherData.current_weather.weathercode;

                // Update UI
                document.getElementById('wc-temp').innerText = `${temp}Â°C`;
                // ä¿®æ­£ 3: æ”¹ç”¨ innerHTML ä»¥æ”¯æ´ SVG åœ–ç¤º
                document.getElementById('wc-desc').innerHTML = getWeatherDesc(weatherCode);

                // æ­¥é©Ÿ 5: æº«å·®å°æ¯”
                updateComparison(temp);

                // æ­¥é©Ÿ 6: AI ç©¿è¡£å»ºè­°
                document.getElementById('wc-advice').innerText = 'AI æ­£åœ¨åˆ†æç•¶åœ°æ°£å€™...';
                askAiWeatherAdvice(rawInput, temp, getWeatherDesc(weatherCode));

            } catch (error) {
                console.error(error);
                document.getElementById('wc-desc').innerText = 'æŸ¥è©¢å¤±æ•—';
                
                let errorMsg = error.message;
                if (errorMsg.includes('Failed to fetch')) {
                    errorMsg = 'ç¶²è·¯é€£ç·šè¢«é˜»æ“‹ã€‚<br>è«‹æª¢æŸ¥ç¶²è·¯è¨­å®šã€‚';
                }
                
                document.getElementById('wc-advice').innerHTML = `<span style="color:var(--danger); font-weight:bold;">${errorMsg}</span>`;
            }
        }

        // ä¿®æ­£ 2: å®šç¾©ç°¡ç´„å¤©æ°£ SVG åœ–ç¤º (ç™½è‰²ç·šæ¢)
        const simpleIcons = {
            sun: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>',
            cloud: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path></svg>',
            rain: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8"></path><path d="M8 13v8"></path><path d="M12 15v8"></path><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path></svg>',
            snow: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 10H4a7 7 0 1 1 7-7v.5"></path><path d="M10 14a6 6 0 0 0-6-6"></path><line x1="12" y1="16" x2="12" y2="22"></line><line x1="12" y1="22" x2="9" y2="19"></line><line x1="12" y1="22" x2="15" y2="19"></line><line x1="18.5" y1="12" x2="22" y2="12"></line><line x1="22" y1="12" x2="19.5" y2="9.5"></line><line x1="22" y1="12" x2="19.5" y2="14.5"></line><line x1="5" y1="18.5" x2="2" y2="18.5"></line><line x1="2" y1="18.5" x2="4.5" y2="21"></line><line x1="2" y1="18.5" x2="4.5" y2="16"></line><line x1="17.5" y1="18.5" x2="20.5" y2="21"></line><line x1="17.5" y1="18.5" x2="20.5" y2="16"></line></svg>',
            fog: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 6h14M4 10h16M6 14h12M4 18h16"></path></svg>',
            lightning: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline></svg>'
        };

        function getWeatherDesc(code) {
            // Updated to return HTML with Simple SVG
            if (code === 0) return `æ™´æœ— ${simpleIcons.sun}`;
            if (code >= 1 && code <= 3) return `å¤šé›² ${simpleIcons.cloud}`;
            if (code >= 45 && code <= 48) return `æœ‰éœ§ ${simpleIcons.fog}`;
            if (code >= 51 && code <= 67) return `æœ‰é›¨ ${simpleIcons.rain}`;
            if (code >= 71 && code <= 77) return `æœ‰é›ª ${simpleIcons.snow}`;
            if (code >= 80 && code <= 82) return `é™£é›¨ ${simpleIcons.rain}`;
            if (code >= 95) return `é›·é›¨ ${simpleIcons.lightning}`;
            return `å¤šé›² ${simpleIcons.cloud}`;
        }

        function getLocalWeather() {
            const tempEl = document.getElementById('wc-my-temp');
            
            // ç‹€æ…‹ 1: æª¢æŸ¥ç€è¦½å™¨æ”¯æ´
            if (!navigator.geolocation) {
                openModal('ç€è¦½å™¨ä¸æ”¯æ´å®šä½ï¼Œè«‹æ‰‹å‹•è¼¸å…¥åŸå¸‚ï¼š');
                return;
            }
            
            // è¦–è¦ºå›é¥‹
            tempEl.innerText = 'å®šä½ä¸­..';
            tempEl.style.fontSize = '1.2rem';
            tempEl.style.color = '#2563EB'; 

            const options = {
                enableHighAccuracy: false, 
                timeout: 5000, 
                maximumAge: 0
            };

            navigator.geolocation.getCurrentPosition(async (position) => {
                // --- æˆåŠŸå–å¾—å®šä½ ---
                const lat = position.coords.latitude;
                const lon = position.coords.longitude;
                
                try {
                    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;
                    const res = await fetch(url);
                    const data = await res.json();
                    
                    currentMyTemp = data.current_weather.temperature;
                    
                    // æ¢å¾©é¡¯ç¤º
                    tempEl.innerText = `${currentMyTemp}Â°C`;
                    tempEl.style.fontSize = '1.5rem';
                    tempEl.style.color = '#1F2937'; 
                    
                    // Update comparison
                    const targetTempStr = document.getElementById('wc-temp').innerText;
                    if (targetTempStr !== '--Â°') {
                        updateComparison(parseFloat(targetTempStr));
                    }
                } catch (e) {
                    console.error(e);
                    tempEl.innerText = 'Err';
                    openModal('è®€å–æ°£è±¡æ•¸æ“šå¤±æ•—ï¼Œè«‹æ‰‹å‹•è¼¸å…¥åŸå¸‚ï¼š');
                }
            }, (err) => {
                // --- å®šä½å¤±æ•— ---
                console.warn('Geolocation Error:', err);
                
                let shortMsg = 'å®šä½å¤±æ•—';
                // å€åˆ†éŒ¯èª¤åŸå› é¡¯ç¤ºåœ¨å°æ¡†æ¡†ä¸­
                if (err.code === 1) shortMsg = 'ç„¡æ¬Šé™'; // ä½¿ç”¨è€…æˆ–ç€è¦½å™¨æ‹’çµ•
                if (err.code === 2) shortMsg = 'è¨Šè™Ÿä¸è‰¯'; 
                if (err.code === 3) shortMsg = 'é€¾æ™‚'; 
                
                tempEl.innerText = shortMsg;
                tempEl.style.fontSize = '1rem'; 
                tempEl.style.color = '#EF4444'; 
                
                // ä½¿ç”¨è‡ªå®šç¾© Modal è©¢å•ï¼Œé¿å…åŸç”Ÿ prompt è¢«æ“‹
                setTimeout(() => {
                     openModal(`å®šä½å—é™ (${shortMsg})ï¼Œæ”¹ç‚ºæ‰‹å‹•è¼¸å…¥ï¼Ÿ`);
                }, 300);
            }, options);
        }

        // --- Modal Functions (å–ä»£åŸç”Ÿ alert/prompt) ---
        function openModal(msg) {
            document.getElementById('modal-msg').innerText = msg;
            document.getElementById('location-modal').style.display = 'flex';
            document.getElementById('modal-city-input').focus();
        }

        function closeModal() {
            document.getElementById('location-modal').style.display = 'none';
        }

        async function submitManualLocation() {
            const manualCity = document.getElementById('modal-city-input').value.trim();
            if (!manualCity) return;
            
            closeModal();
            
            const tempEl = document.getElementById('wc-my-temp');
            tempEl.innerText = 'æŸ¥è©¢ä¸­..';
            tempEl.style.color = '#2563EB';
            tempEl.style.fontSize = '1.2rem';
            
            // --- æ–°å¢ï¼šæ™ºæ…§ç¿»è­¯é‚è¼¯ (èˆ‡å¤©æ°£æŸ¥è©¢åŒæ­¥) ---
            let searchTerm = manualCity;
            let isTranslated = false;

            // 1. æª¢æŸ¥å…§å»ºå°ç…§è¡¨
            for (const key in cityMapping) {
                if (manualCity.includes(key)) {
                    searchTerm = cityMapping[key];
                    isTranslated = true;
                    break;
                }
            }

            // 2. AI èƒŒæ™¯ç¿»è­¯ (è‹¥å°ç…§è¡¨æ²’æœ‰)
            if (!isTranslated) {
                // æç¤ºä½¿ç”¨è€…æ­£åœ¨ç¿»è­¯
                tempEl.innerText = 'ç¿»è­¯ä¸­..';
                
                const translatePrompt = `
                    Task: Translate the place name "${manualCity}" into its official English Romanization name for using in a Weather API.
                    Target: Global locations (Focus on Taiwan/Japan).
                    Rule: Output ONLY the English name. No explanations.
                    Example: "å°åŒ—" -> "Taipei", "ç”±å¸ƒé™¢" -> "Yufuin", "æ–°ç«¹" -> "Hsinchu".
                `;
                
                try {
                    const aiTranslation = await getGeminiResponse(translatePrompt);
                    if (/^[a-zA-Z\s\-,]+$/.test(aiTranslation)) {
                        searchTerm = aiTranslation;
                        isTranslated = true;
                        console.log("æ‰‹å‹•ä½ç½® AI ç¿»è­¯çµæœ:", searchTerm);
                    }
                } catch (e) {
                    console.warn("AI ç¿»è­¯å¤±æ•—ï¼Œå°‡ä½¿ç”¨åŸå§‹ä¸­æ–‡æœå°‹");
                }
            }
            
            tempEl.innerText = 'é€£ç·šä¸­..';
            // --- é‚è¼¯çµæŸ ---

            try {
                // ä½¿ç”¨ Geocoding API æŸ¥è©¢
                // å„ªå…ˆä½¿ç”¨ç¿»è­¯å¾Œçš„è‹±æ–‡æœå°‹ (ç²¾æº–åº¦è¼ƒé«˜)
                let geoUrl = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(searchTerm)}&count=1&language=en&format=json`;
                let geoRes = await fetch(geoUrl);
                let geoData = await geoRes.json();

                // å¦‚æœè‹±æ–‡æ‰¾ä¸åˆ°ï¼Œå˜—è©¦ç”¨åŸå§‹ä¸­æ–‡æœå°‹ (Fallback)
                if ((!geoData.results || geoData.results.length === 0) && isTranslated) {
                    geoUrl = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(manualCity)}&count=1&language=zh&format=json`;
                    geoRes = await fetch(geoUrl);
                    geoData = await geoRes.json();
                }

                if (!geoData.results || geoData.results.length === 0) {
                    tempEl.innerText = 'æŸ¥ç„¡æ­¤åœ°';
                    // æ¢å¾©æŒ‰éˆ•ç‹€æ…‹ä¸¦é¡¯ç¤ºéŒ¯èª¤
                    setTimeout(() => openModal(`æ‰¾ä¸åˆ°ã€Œ${manualCity}ã€(ç¿»è­¯: ${searchTerm})ï¼Œè«‹å˜—è©¦è¼¸å…¥å…¶ä»–åç¨±ï¼š`), 1000);
                    return;
                }

                const { latitude, longitude } = geoData.results[0];
                const weatherUrl = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`;
                const weatherRes = await fetch(weatherUrl);
                const weatherData = await weatherRes.json();

                currentMyTemp = weatherData.current_weather.temperature;
                
                // æ›´æ–° UI
                tempEl.innerText = `${currentMyTemp}Â°C`;
                tempEl.style.fontSize = '1.5rem';
                tempEl.style.color = '#1F2937';
                
                // æ›´æ”¹æ¨™é¡Œè®“äººçŸ¥é“æ˜¯æ‰‹å‹•çš„
                const titleEl = document.querySelector('.wc-mini-card .wc-mini-title');
                // ä¿ç•™ iconï¼Œé¡¯ç¤ºä½¿ç”¨è€…è¼¸å…¥çš„ä¸­æ–‡åœ°å
                titleEl.innerHTML = `<svg class="icon-mini" style="color: #EF4444;" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> ${manualCity}`;

                const targetTempStr = document.getElementById('wc-temp').innerText;
                if (targetTempStr !== '--Â°') {
                    updateComparison(parseFloat(targetTempStr));
                }

            } catch (e) {
                console.error(e);
                tempEl.innerText = 'å¤±æ•—';
                tempEl.style.color = '#EF4444';
            }
        }

        function updateComparison(targetTemp) {
            if (currentMyTemp === null) {
                // Try to fetch local if not yet fetched
                getLocalWeather();
                return;
            }
            
            const diff = targetTemp - currentMyTemp;
            const diffTag = document.getElementById('wc-diff-tag');
            const diffText = document.getElementById('wc-diff-text');
            
            diffTag.style.display = 'inline-block';
            
            if (diff > 0) {
                diffTag.className = 'wc-diff-tag wc-diff-hot';
                diffTag.innerText = `ç†± ${diff.toFixed(1)}Â°C`;
                diffText.innerText = 'æ¯”é€™è£¡æº«æš–';
            } else {
                diffTag.className = 'wc-diff-tag wc-diff-cold';
                diffTag.innerText = `å†· ${Math.abs(diff).toFixed(1)}Â°C`;
                diffText.innerText = 'æ¯”é€™è£¡å†·';
            }
        }

        async function askAiWeatherAdvice(city, temp, condition) {
            const prompt = `
                ç¾åœ¨${city}çš„å³æ™‚æ°£æº«æ˜¯ ${temp}åº¦ï¼Œå¤©æ°£ç‹€æ³ç‚º${condition}ã€‚
                è«‹ä»¥ã€Œæ—…éŠå°ç§˜æ›¸ã€çš„å£å»ï¼Œçµ¦äºˆå°ç£æ—…å®¢ç°¡çŸ­çš„ç©¿è¡£å»ºè­°ï¼ˆç´„50å­—ï¼‰ã€‚
                è«‹åŒ…å«é«”æ„Ÿæè¿°ï¼ˆä¾‹å¦‚ï¼šæ˜¯å¦éœ€è¦ç™¼ç†±è¡£ã€åœå·¾ç­‰ï¼‰ã€‚
            `;
            
            try {
                // æ”¹ç”¨æ–°çš„å…±ç”¨å‡½æ•¸
                const text = await getGeminiResponse(prompt);
                document.getElementById('wc-advice').innerText = text;
            } catch (e) {
                document.getElementById('wc-advice').innerText = 'AI é€£ç·šé€¾æ™‚ï¼Œå»ºè­°æ´‹è”¥å¼ç©¿æ­ã€‚';
            }
        }
        
        // --- END REAL-TIME WEATHER ---

        function switchTab(element) {
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            document.querySelectorAll('.container').forEach(container => container.classList.remove('active'));
            element.classList.add('active');
            const targetId = element.getAttribute('data-target');
            document.getElementById(targetId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function toggleTimeline(id, toggleElement) {
            const timeline = document.getElementById(id);
            // If opening a new day
            if (!timeline.classList.contains('show')) {
                // Collapse others
                document.querySelectorAll('.timeline.show').forEach(t => t.classList.remove('show'));
                document.querySelectorAll('.day-toggle.open').forEach(t => t.classList.remove('open'));
                
                // Show target
                timeline.classList.add('show');
                toggleElement.classList.add('open');
                
                // Update Weather!
                updateWeatherWidget(id);
            } else {
                // Closing the current day
                timeline.classList.remove('show');
                toggleElement.classList.remove('open');
            }
        }

        // AI Functions - UI Interaction Part
        const chatHistory = document.getElementById('chat-history');
        const aiInput = document.getElementById('ai-user-input');
        const aiTitle = document.getElementById('ai-modal-title');
        const aiInputArea = document.getElementById('ai-input-area');
        const btnBackTrans = document.getElementById('btn-back-trans');

        // Initial Greeting
        function initAiChat() {
            if (chatHistory.children.length === 0) {
                const welcomeHtml = `
                    ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ä¹å·æ—…éŠ AI åŠ©æ‰‹ã€‚
                    <br><br>
                    ä½ å¯ä»¥é»é¸ä¸‹æ–¹çš„ <b>ã€Œè¡Œç¨‹è«®è©¢ã€</b> è©¢å•è·¯ç·šï¼Œæˆ–ä½¿ç”¨ <b>ã€Œä¸­/æ—¥ç¿»è­¯ã€</b> èˆ‡ç•¶åœ°äººæºé€šã€‚
                `;
                appendMessage('ai', welcomeHtml);
            }
        }

        // Function to switch to AI tab programmatically
        function goToAiTab() {
            const aiTabBtn = document.querySelector('[data-target="view-ai"]');
            switchTab(aiTabBtn);
        }

        function showAiTranslatorMode() {
            // ä¿®æ­£ 3: JS å‹•æ…‹åˆ‡æ›æ¨™é¡Œæ™‚ä¹Ÿè¦ç”¨ SVG
            const iconSvg = '<svg class="icon-mini" style="width: 24px; height: 24px; color: #F59E0B; margin-right: 8px;" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>';
            aiTitle.innerHTML = iconSvg + '<span>éš¨èº« AI ç¿»è­¯èˆ‡åŠ©æ‰‹</span>';
            aiInputArea.style.display = 'block'; 
            btnBackTrans.style.display = 'none';
            // Scroll to bottom
            chatHistory.scrollTop = chatHistory.scrollHeight;
            setupVoiceButton();
        }
        
        // Append Message Bubble
        function appendMessage(sender, htmlContent, isAudio = false) {
            const row = document.createElement('div');
            row.className = `chat-row ${sender}`;
            
            const bubble = document.createElement('div');
            bubble.className = `chat-bubble ${sender}`;
            bubble.innerHTML = htmlContent;
            
            // If it's an AI message with Japanese, add inline audio button
            if (sender === 'ai' && isAudio) {
                const btn = document.createElement('button');
                btn.className = 'btn-audio-inline';
                btn.innerHTML = '<svg viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>';
                // Extract plain text for speaking (remove HTML tags)
                const textToSpeak = bubble.innerText.replace('ğŸ”Š', '').trim();
                
                btn.onclick = () => speakText(textToSpeak);
                bubble.appendChild(btn);
                
                // Also auto-play once
                setTimeout(() => speakText(textToSpeak), 200);
            }

            row.appendChild(bubble);
            chatHistory.appendChild(row);
            
            // Scroll to bottom
            chatHistory.scrollTop = chatHistory.scrollHeight;
            
            return bubble; // Return in case we need to update it (loading state)
        }
        
        function showLoading() {
            const row = document.createElement('div');
            row.className = 'chat-row ai loading-row';
            row.id = 'loading-indicator';
            
            const bubble = document.createElement('div');
            bubble.className = 'chat-bubble ai loading-bubble';
            bubble.innerHTML = 'AI æ­£åœ¨æ€è€ƒä¸­<span class="loading-dots"></span>';
            
            row.appendChild(bubble);
            chatHistory.appendChild(row);
            chatHistory.scrollTop = chatHistory.scrollHeight;
        }

        function removeLoading() {
            const loading = document.getElementById('loading-indicator');
            if (loading) loading.remove();
        }
        
        // Helper to update placeholder based on selection
        function updatePlaceholder() {
            const lang = document.querySelector('input[name="voice_lang"]:checked').value;
            const input = document.getElementById('ai-user-input');
            if (lang === 'zh-TW') {
                input.placeholder = 'è«‹è¼¸å…¥ä¸­æ–‡ (æˆ–ä½¿ç”¨èªéŸ³)...';
            } else {
                input.placeholder = 'è«‹è¼¸å…¥æ—¥æ–‡ (æˆ–åˆ‡æ›èªéŸ³)...';
            }
        }

        function speakText(text) {
             speechSynthesis.cancel();
             const utterance = new SpeechSynthesisUtterance(text);
             utterance.lang = 'ja-JP'; 
             utterance.rate = 0.9;
             const voices = speechSynthesis.getVoices();
             const jaVoice = voices.find(v => v.lang.includes('ja'));
             if (jaVoice) utterance.voice = jaVoice;
             speechSynthesis.speak(utterance);
        }

        // Voice Recognition Logic
        function setupVoiceButton() {
            const voiceBtn = document.getElementById('btn-voice-ja');
            if (!voiceBtn) return;
            
            voiceBtn.oncontextmenu = function(event) {
                event.preventDefault();
                event.stopPropagation();
                return false;
            };

            let recognition;
            
            if ('webkitSpeechRecognition' in window) {
                recognition = new webkitSpeechRecognition();
                // é—œéµä¿®æ­£ï¼šä¸å†è‡ªå‹•åµæ¸¬ï¼Œè€Œæ˜¯è®€å–ä½¿ç”¨è€…çš„é¸æ“‡
                recognition.continuous = false;
                recognition.interimResults = false;

                recognition.onstart = function() {
                    // åœ¨é–‹å§‹æ™‚å‹•æ…‹è¨­å®šèªè¨€
                    const selectedLang = document.querySelector('input[name="voice_lang"]:checked').value;
                    recognition.lang = selectedLang;
                    
                    voiceBtn.classList.add('recording');
                    const langText = selectedLang === 'zh-TW' ? 'ä¸­æ–‡' : 'æ—¥æ–‡';
                    voiceBtn.innerHTML = `ğŸ”´ è½${langText}ä¸­...`;
                    document.getElementById('ai-user-input').placeholder = `æ­£åœ¨è†è½${langText}...`;
                };

                recognition.onend = function() {
                    voiceBtn.classList.remove('recording');
                    voiceBtn.innerHTML = `
                        <svg viewBox="0 0 24 24" style="width:20px;height:20px;fill:none;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;margin-bottom:2px;"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                        èªéŸ³è¼¸å…¥
                    `;
                    updatePlaceholder();
                };

                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('ai-user-input').value = transcript;
                    sendToGemini('voice_auto');
                };
                
                // Error handling for "no-speech" or "language mismatch"
                recognition.onerror = function(event) {
                    console.log('Voice Error:', event.error);
                    voiceBtn.classList.remove('recording');
                    voiceBtn.innerHTML = `
                        <svg viewBox="0 0 24 24" style="width:20px;height:20px;fill:none;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;margin-bottom:2px;"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                        é‡è©¦
                    `;
                };

                const startRec = (e) => {
                    if (e.cancelable) e.preventDefault();
                    // æ¯æ¬¡é»æ“Šå‰å…ˆåœæ­¢èˆŠçš„ (é¿å…é‡è¤‡é–‹å•Ÿ)
                    try { recognition.stop(); } catch(err) {}
                    try { recognition.start(); } catch(err) { console.log(err); }
                };
                
                // æ”¹ç‚º Click è§¸ç™¼å³å¯ï¼Œä¸ç”¨é•·æŒ‰ï¼Œå› ç‚ºç¾åœ¨æœ‰èªè¨€é–‹é—œäº†
                // ç‚ºäº†æ‰‹æ©Ÿé«”é©—ï¼Œé‚„æ˜¯ä¿ç•™ touchstart
                voiceBtn.onclick = startRec;
                
            } else {
                voiceBtn.style.display = 'none'; 
                console.log('Web Speech API not supported');
            }
        }

        function askGeminiGuide(spotName, customPrompt) {
            goToAiTab();
            // ä¿®æ­£ 4: å°è¦½æ¨¡å¼æ¨™é¡Œåœ–ç¤ºä¹Ÿçµ±ä¸€
            const iconSvg = '<svg class="icon-mini" style="width: 24px; height: 24px; color: #F59E0B; margin-right: 8px;" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>';
            aiTitle.innerHTML = iconSvg + `<span>${spotName} å°æ•…äº‹</span>`;
            aiInputArea.style.display = 'none'; 
            btnBackTrans.style.display = 'block'; 
            
            // Add system message to chat indicating start
            appendMessage('ai', `æ­£åœ¨ç‚ºæ‚¨ç”Ÿæˆé—œæ–¼ã€Œ${spotName}ã€çš„æ•…äº‹...`);

            const prompt = `
                ä½ æ˜¯ä¸€ä½å¸¶é ˜è¦ªå­æ—…éŠçš„ä¹å·å°éŠã€‚
                è«‹é‡å°æ™¯é»ã€Œ${spotName}ã€ç”Ÿæˆä¸€æ®µçµ¦ 5-8 æ­²å°å­©è½çš„å°è¦½è©ã€‚
                è¦æ±‚ï¼š
                1. èªæ°£ç”Ÿå‹•æ´»æ½‘ï¼Œä½¿ç”¨å°ç£ç¹é«”ä¸­æ–‡ã€‚
                2. å…§å®¹åŒ…å«ä¸€å€‹é—œæ–¼è©²æ™¯é»çš„æœ‰è¶£å†·çŸ¥è­˜ã€‚
                3. çµ¦å­©å­ä¸€å€‹ã€Œå°å°è§€å¯Ÿä»»å‹™ã€ï¼ˆä¾‹å¦‚ï¼šæ‰¾æ‰¾çœ‹æŸå€‹é¡è‰²çš„æ±è¥¿ï¼‰ã€‚
                4. æ•´é«”é•·åº¦æ§åˆ¶åœ¨ 150 å­—ä»¥å…§ã€‚
                5. ${customPrompt}
            `;
            
            callGemini(prompt);
        }

        function handleEnter(e) {
            if (e.key === 'Enter') sendToGemini('auto');
        }

        function sendToGemini(mode) {
            const text = aiInput.value.trim();
            if (!text) return;

            // Display User Message
            appendMessage('user', text);
            aiInput.value = ''; // Clear input

            // 1. Grab Schedule Context
            const scheduleContext = document.getElementById('view-schedule').innerText;
            
            let prompt = "";

            if (mode === 'consult') {
                prompt = `
                    ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„ä¹å·è¦ªå­æ—…éŠé¡§å•ã€‚
                    ã€è¡Œç¨‹è¡¨è³‡è¨Šã€‘ï¼š${scheduleContext.substring(0, 8000)}
                    ã€ä½¿ç”¨è€…å•é¡Œã€‘ï¼š "${text}"
                    ä»»å‹™ï¼šè«‹æ ¹æ“šè¡Œç¨‹è¡¨ï¼Œé‡å°ä½¿ç”¨è€…çš„å•é¡Œæä¾›å…·é«”ã€å¯¦ç”¨çš„å»ºè­°ã€‚
                    æ³¨æ„ï¼šè€ƒæ…®åˆ°æ˜¯è¦ªå­æ—…éŠï¼Œè«‹æ³¨æ„é«”åŠ›åˆ†é…èˆ‡å…’ç«¥éœ€æ±‚ã€‚
                    è«‹ç”¨å°ç£ç¹é«”ä¸­æ–‡å›ç­”ã€‚
                `;
            } else if (mode === 'translate') {
                prompt = `
                    ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ä¸­æ—¥ç¿»è­¯æ©Ÿã€‚
                    ã€ä½¿ç”¨è€…è¼¸å…¥ã€‘ï¼š "${text}"
                    ä»»å‹™ï¼š
                    1. è‹¥è¼¸å…¥ä¸­æ–‡ï¼šè«‹ç¿»è­¯æˆè‡ªç„¶çš„æ—¥æ–‡ (ç¦®è²Œå½¢)ã€‚åªè¼¸å‡ºç¿»è­¯å¾Œçš„æ—¥æ–‡ã€‚
                    2. è‹¥è¼¸å…¥æ—¥æ–‡ï¼šè«‹ç¿»è­¯æˆç¹é«”ä¸­æ–‡ã€‚
                    æ³¨æ„ï¼šä¸è¦ä»»ä½•è§£é‡‹ï¼Œåªçµ¦æˆ‘ç¿»è­¯çµæœã€‚ä¸è¦ç¾…é¦¬æ‹¼éŸ³ã€‚
                `;
            } else if (mode === 'voice_auto') {
                // æ ¹æ“šä½¿ç”¨è€…é¸æ“‡çš„èªè¨€ï¼Œçµ¦ AI æ›´ç²¾æº–çš„æŒ‡ä»¤
                const selectedLang = document.querySelector('input[name="voice_lang"]:checked').value;
                const isInputZh = selectedLang === 'zh-TW';
                
                prompt = `
                    ä½ æ˜¯ä¸€å€‹ä¸­æ—¥é›™å‘å£è­¯å“¡ã€‚
                    ã€è¼¸å…¥èªè¨€ã€‘ï¼š${isInputZh ? 'ä¸­æ–‡ (å°ç£)' : 'æ—¥æ–‡'}
                    ã€è¼¸å…¥å…§å®¹ã€‘ï¼š "${text}"
                    
                    ä»»å‹™ï¼š
                    ${isInputZh ? '1. ä½¿ç”¨è€…èªªä¸­æ–‡ï¼Œè«‹ç¿»è­¯æˆæ—¥æ–‡ (ç¦®è²Œå½¢)ã€‚' : '1. ä½¿ç”¨è€…èªªæ—¥æ–‡ï¼Œè«‹ç¿»è­¯æˆå°ç£ç¹é«”ä¸­æ–‡ã€‚'}
                    
                    æ³¨æ„ï¼š
                    - åªè¼¸å‡ºç¿»è­¯çµæœï¼Œä¸è¦è§£é‡‹ã€‚
                    - è‹¥èªæ„ä¸æ¸…ï¼Œè«‹æ ¹æ“šæ—…éŠæƒ…å¢ƒæ¨æ¸¬æœ€å¯èƒ½çš„å¥å­ã€‚
                `;
            } else {
                prompt = `
                    ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„ä¹å·è¦ªå­æ—…éŠé¡§å•èˆ‡éš¨èº«ç¿»è­¯ã€‚
                    ã€è¡Œç¨‹è¡¨è³‡è¨Šã€‘ï¼š${scheduleContext.substring(0, 5000)}
                    ã€ä½¿ç”¨è€…è¼¸å…¥ã€‘ï¼š "${text}"
                    è«‹è‡ªå‹•åˆ¤æ–·ï¼š
                    1. è‹¥æ˜¯å•å•é¡Œ/å°‹æ±‚å»ºè­° -> åŸ·è¡Œè¡Œç¨‹è«®è©¢æ¨¡å¼ã€‚
                    2. è‹¥æ˜¯çŸ­å¥/å–®è© -> åŸ·è¡Œç¿»è­¯æ¨¡å¼ (ä¸­ç¿»æ—¥æˆ–æ—¥ç¿»ä¸­)ã€‚
                    è«‹ç›´æ¥çµ¦å‡ºçµæœï¼Œä¸è¦è§£é‡‹ä½ çš„åˆ¤æ–·é‚è¼¯ã€‚
                `;
            }

            callGemini(prompt);
        }

        async function callGemini(promptText) {
            showLoading();
            
            try {
                // æ”¹ç”¨æ–°çš„å…±ç”¨å‡½æ•¸ getGeminiResponse
                let rawText = await getGeminiResponse(promptText);
                removeLoading();

                // Check for Japanese chars to decide if we show audio button
                const hasJapanese = /[\u3040-\u309F\u30A0-\u30FF]/.test(rawText);
                const isTranslation = hasJapanese && rawText.length < 500;

                // Format text (convert newlines to <br>)
                const formattedText = rawText.replace(/\n/g, '<br>');
                
                appendMessage('ai', formattedText, isTranslation);

            } catch (error) {
                removeLoading();
                console.error('Gemini API Error:', error);
                appendMessage('ai', `<span style="color:red">ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚<br>Error: ${error.message}</span>`);
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // Default: Open Day 1
            const d1Toggle = document.getElementById('toggle-d1');
            const d1Timeline = document.getElementById('d1');
            if (d1Timeline) { 
                d1Timeline.classList.add('show');
                d1Toggle.classList.add('open');
                updateWeatherWidget('d1'); 
            }
            initAiChat();
            setupVoiceButton(); // Init voice listener
        });
    </script>
</body>
</html>